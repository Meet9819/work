!function(t,e){function n(e,i){i=i||!1,this.$container=t(e),this.$elements=this.$container.find("figure.grid-gallery-caption").fadeIn(),this.initialMargin=this.$elements.first().css("margin-bottom"),this.$navigation=this.$container.find("nav.grid-gallery-nav"),this.selectedCategory="",this.$qsData=null,this.$qsDuration="750",this.$qsEnable=!1,this.areaPosition=this.$container.data("area-position"),this.pagination={currentPage:1,limit:0,total:this.$elements.length,pages:1,$wrapper:this.$container.find(".grid-gallery-pagination-wrap")},this.isFluidHeight()&&this.$elements.addClass("wookmarked"),t(document).trigger("GalleryExtend",this),i&&this.init()}(function(){function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var n=t.prototype,o=this,s=o.EventEmitter;n.getListeners=function(t){var e,i,n=this._getEvents();if("object"==typeof t){e={};for(i in n)n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i])}else e=n[t]||(n[t]=[]);return e},n.flattenListeners=function(t){var e,i=[];for(e=0;t.length>e;e+=1)i.push(t[e].listener);return i},n.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},n.addListener=function(t,i){var n,o=this.getListenersAsObject(t),s="object"==typeof i;for(n in o)o.hasOwnProperty(n)&&-1===e(o[n],i)&&o[n].push(s?i:{listener:i,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(t){return this.getListeners(t),this},n.defineEvents=function(t){for(var e=0;t.length>e;e+=1)this.defineEvent(t[e]);return this},n.removeListener=function(t,i){var n,o,s=this.getListenersAsObject(t);for(o in s)s.hasOwnProperty(o)&&(n=e(s[o],i),-1!==n&&s[o].splice(n,1));return this},n.off=i("removeListener"),n.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},n.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},n.manipulateListeners=function(t,e,i){var n,o,s=t?this.removeListener:this.addListener,r=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(n=i.length;n--;)s.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(o=e[n])&&("function"==typeof o?s.call(this,n,o):r.call(this,n,o));return this},n.removeEvent=function(t){var e,i=typeof t,n=this._getEvents();if("string"===i)delete n[t];else if("object"===i)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(t,e){var i,n,o,s,r=this.getListenersAsObject(t);for(o in r)if(r.hasOwnProperty(o))for(n=r[o].length;n--;)i=r[o][n],i.once===!0&&this.removeListener(t,i.listener),s=i.listener.apply(this,e||[]),s===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},n.trigger=i("emitEvent"),n.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},n.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},n._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},n._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return o.EventEmitter=s,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}).call(this),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,n=function(){};i.addEventListener?n=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(n=function(t,i,n){t[i+n]=n.handleEvent?function(){var i=e(t);n.handleEvent.call(n,i)}:function(){var i=e(t);n.call(t,i)},t.attachEvent("on"+i,t[i+n])});var o=function(){};i.removeEventListener?o=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(o=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(n){t[e+i]=void 0}});var s={bind:n,unbind:o};"function"==typeof define&&define.amd?define("eventie/eventie",s):t.eventie=s}(this),function(t,e){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(i,n){return e(t,i,n)}):"object"==typeof exports?module.exports=e(t,require("eventEmitter"),require("eventie")):t.imagesLoaded=e(t,t.EventEmitter,t.eventie)}(this,function(t,e,i){function n(t,e){for(var i in e)t[i]=e[i];return t}function o(t){return"[object Array]"===c.call(t)}function s(t){var e=[];if(o(t))e=t;else if("number"==typeof t.length)for(var i=0,n=t.length;n>i;i++)e.push(t[i]);else e.push(t);return e}function r(t,e,i){if(!(this instanceof r))return new r(t,e);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=s(t),this.options=n({},this.options),"function"==typeof e?i=e:n(this.options,e),i&&this.on("always",i),this.getImages(),h&&(this.jqDeferred=new h.Deferred);var o=this;setTimeout(function(){o.check()})}function a(t){this.img=t}function l(t){this.src=t,u[t]=this}var h=t.jQuery,p=t.console,d=void 0!==p,c=Object.prototype.toString;r.prototype=new e,r.prototype.options={},r.prototype.getImages=function(){this.images=[];for(var t=0,e=this.elements.length;e>t;t++){var i=this.elements[t];"IMG"===i.nodeName&&this.addImage(i);var n=i.nodeType;if(n&&(1===n||9===n||11===n))for(var o=i.querySelectorAll("img"),s=0,r=o.length;r>s;s++){var a=o[s];this.addImage(a)}}},r.prototype.addImage=function(t){var e=new a(t);this.images.push(e)},r.prototype.check=function(){function t(t,o){return e.options.debug&&d&&p.log("confirm",t,o),e.progress(t),i++,i===n&&e.complete(),!0}var e=this,i=0,n=this.images.length;if(this.hasAnyBroken=!1,!n)return void this.complete();for(var o=0;n>o;o++){var s=this.images[o];s.on("confirm",t),s.check()}},r.prototype.progress=function(t){this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded;var e=this;setTimeout(function(){e.emit("progress",e,t),e.jqDeferred&&e.jqDeferred.йгnotify&&e.jqDeferred.notify(e,t)})},r.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var e=this;setTimeout(function(){if(e.emit(t,e),e.emit("always",e),e.jqDeferred){var i=e.hasAnyBroken?"reject":"resolve";e.jqDeferred[i](e)}})},h&&(h.fn.imagesLoaded=function(t,e){var i=new r(this,t,e);return i.jqDeferred.promise(h(this))}),a.prototype=new e,a.prototype.check=function(){var t=u[this.img.src]||new l(this.img.src);if(t.isConfirmed)return void this.confirm(t.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var e=this;t.on("confirm",function(t,i){return e.confirm(t.isLoaded,i),!0}),t.check()},a.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("confirm",this,e)};var u={};return l.prototype=new e,l.prototype.check=function(){if(!this.isChecked){var t=new Image;i.bind(t,"load",this),i.bind(t,"error",this),t.src=this.src,this.isChecked=!0}},l.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.prototype.onload=function(t){this.confirm(!0,"onload"),this.unbindProxyEvents(t)},l.prototype.onerror=function(t){this.confirm(!1,"onerror"),this.unbindProxyEvents(t)},l.prototype.confirm=function(t,e){this.isConfirmed=!0,this.isLoaded=t,this.emit("confirm",this,e)},l.prototype.unbindProxyEvents=function(t){i.unbind(t.target,"load",this),i.unbind(t.target,"error",this)},r}),!function(t){function e(){}function i(t){function i(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function o(e,i){t.fn[e]=function(o){if("string"==typeof o){for(var r=n.call(arguments,1),a=0,l=this.length;l>a;a++){var h=this[a],p=t.data(h,e);if(p)if(t.isFunction(p[o])&&"_"!==o.charAt(0)){var d=p[o].apply(p,r);if(void 0!==d)return d}else s("no such method '"+o+"' for "+e+" instance");else s("cannot call methods on "+e+" prior to initialization; attempted to call '"+o+"'")}return this}return this.each(function(){var n=t.data(this,e);n?(n.option(o),n._init()):(n=new i(this,o),t.data(this,e,n))})}}if(t){var s="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){i(e),o(t,e)},t.bridget}}var n=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],i):i(t.jQuery)}(window),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,n=function(){};i.addEventListener?n=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(n=function(t,i,n){t[i+n]=n.handleEvent?function(){var i=e(t);n.handleEvent.call(n,i)}:function(){var i=e(t);n.call(t,i)},t.attachEvent("on"+i,t[i+n])});var o=function(){};i.removeEventListener?o=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(o=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(n){t[e+i]=void 0}});var s={bind:n,unbind:o};"function"==typeof define&&define.amd?define("eventie/eventie",s):"object"==typeof exports?module.exports=s:t.eventie=s}(this),function(t){function e(t){"function"==typeof t&&(e.isReady?t():s.push(t))}function i(t){var i="readystatechange"===t.type&&"complete"!==o.readyState;if(!e.isReady&&!i){e.isReady=!0;for(var n=0,r=s.length;r>n;n++){var a=s[n];a()}}}function n(n){return n.bind(o,"DOMContentLoaded",i),n.bind(o,"readystatechange",i),n.bind(t,"load",i),e}var o=t.document,s=[];e.isReady=!1,"function"==typeof define&&define.amd?(e.isReady="function"==typeof requirejs,define("doc-ready/doc-ready",["eventie/eventie"],n)):t.docReady=n(t.eventie)}(this),function(){function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var n=t.prototype,o=this,s=o.EventEmitter;n.getListeners=function(t){var e,i,n=this._getEvents();if(t instanceof RegExp){e={};for(i in n)n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i])}else e=n[t]||(n[t]=[]);return e},n.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},n.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},n.addListener=function(t,i){var n,o=this.getListenersAsObject(t),s="object"==typeof i;for(n in o)o.hasOwnProperty(n)&&-1===e(o[n],i)&&o[n].push(s?i:{listener:i,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(t){return this.getListeners(t),this},n.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},n.removeListener=function(t,i){var n,o,s=this.getListenersAsObject(t);for(o in s)s.hasOwnProperty(o)&&(n=e(s[o],i),-1!==n&&s[o].splice(n,1));return this},n.off=i("removeListener"),n.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},n.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},n.manipulateListeners=function(t,e,i){var n,o,s=t?this.removeListener:this.addListener,r=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(n=i.length;n--;)s.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(o=e[n])&&("function"==typeof o?s.call(this,n,o):r.call(this,n,o));return this},n.removeEvent=function(t){var e,i=typeof t,n=this._getEvents();if("string"===i)delete n[t];else if(t instanceof RegExp)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(t,e){var i,n,o,s,r=this.getListenersAsObject(t);for(o in r)if(r.hasOwnProperty(o))for(n=r[o].length;n--;)i=r[o][n],i.once===!0&&this.removeListener(t,i.listener),s=i.listener.apply(this,e||[]),s===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},n.trigger=i("emitEvent"),n.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},n.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},n._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},n._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return o.EventEmitter=s,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(t){function e(t){if(t){if("string"==typeof n[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,o=0,s=i.length;s>o;o++)if(e=i[o]+t,"string"==typeof n[e])return e}}var i="Webkit Moz ms Ms O".split(" "),n=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(t){function e(t){var e=parseFloat(t),i=-1===t.indexOf("%")&&!isNaN(e);return i&&e}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,i=r.length;i>e;e++){var n=r[e];t[n]=0}return t}function n(t){function n(t){if("string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var n=s(t);if("none"===n.display)return i();var o={};o.width=t.offsetWidth,o.height=t.offsetHeight;for(var p=o.isBorderBox=!(!h||!n[h]||"border-box"!==n[h]),d=0,c=r.length;c>d;d++){var u=r[d],f=n[u];f=a(t,f);var g=parseFloat(f);o[u]=isNaN(g)?0:g}var m=o.paddingLeft+o.paddingRight,v=o.paddingTop+o.paddingBottom,y=o.marginLeft+o.marginRight,_=o.marginTop+o.marginBottom,w=o.borderLeftWidth+o.borderRightWidth,b=o.borderTopWidth+o.borderBottomWidth,x=p&&l,k=e(n.width);k!==!1&&(o.width=k+(x?0:m+w));var $=e(n.height);return $!==!1&&(o.height=$+(x?0:v+b)),o.innerWidth=o.width-(m+w),o.innerHeight=o.height-(v+b),o.outerWidth=o.width+y,o.outerHeight=o.height+_,o}}function a(t,e){if(o||-1===e.indexOf("%"))return e;var i=t.style,n=i.left,s=t.runtimeStyle,r=s&&s.left;return r&&(s.left=t.currentStyle.left),i.left=e,e=i.pixelLeft,i.left=n,r&&(s.left=r),e}var l,h=t("boxSizing");return function(){if(h){var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style[h]="border-box";var i=document.body||document.documentElement;i.appendChild(t);var n=s(t);l=200===e(n.width),i.removeChild(t)}}(),n}var o=t.getComputedStyle,s=o?function(t){return o(t,null)}:function(t){return t.currentStyle},r=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],n):"object"==typeof exports?module.exports=n(require("get-style-property")):t.getSize=n(t.getStyleProperty)}(window),function(t,e){function i(t,e){return t[a](e)}function n(t){if(!t.parentNode){var e=document.createDocumentFragment();e.appendChild(t)}}function o(t,e){n(t);for(var i=t.parentNode.querySelectorAll(e),o=0,s=i.length;s>o;o++)if(i[o]===t)return!0;return!1}function s(t,e){return n(t),i(t,e)}var r,a=function(){if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],i=0,n=t.length;n>i;i++){var o=t[i],s=o+"MatchesSelector";if(e[s])return s}}();if(a){var l=document.createElement("div"),h=i(l,"div");r=h?i:s}else r=o;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return r}):window.matchesSelector=r}(this,Element.prototype),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){for(var e in t)return!1;return e=null,!0}function n(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function o(t,o,s){function a(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var l=s("transition"),h=s("transform"),p=l&&h,d=!!s("perspective"),c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[l],u=["transform","transition","transitionDuration","transitionProperty"],f=function(){for(var t={},e=0,i=u.length;i>e;e++){var n=u[e],o=s(n);o&&o!==n&&(t[n]=o)}return t}();e(a.prototype,t.prototype),a.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},a.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},a.prototype.getSize=function(){this.size=o(this.element)},a.prototype.css=function(t){var e=this.element.style;for(var i in t){var n=f[i]||i;e[n]=t[i]}},a.prototype.getPosition=function(){var t=r(this.element),e=this.layout.options,i=e.isOriginLeft,n=e.isOriginTop,o=parseInt(t[i?"left":"right"],10),s=parseInt(t[n?"top":"bottom"],10);o=isNaN(o)?0:o,s=isNaN(s)?0:s;var a=this.layout.size;o-=i?a.paddingLeft:a.paddingRight,s-=n?a.paddingTop:a.paddingBottom,this.position.x=o,this.position.y=s},a.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,i={};e.isOriginLeft?(i.left=this.position.x+t.paddingLeft+"px",i.right=""):(i.right=this.position.x+t.paddingRight+"px",i.left=""),e.isOriginTop?(i.top=this.position.y+t.paddingTop+"px",i.bottom=""):(i.bottom=this.position.y+t.paddingBottom+"px",i.top=""),this.css(i),this.emitEvent("layout",[this])};var g=d?function(t,e){return"translate3d("+t+"px, "+e+"px, 0)"}:function(t,e){return"translate("+t+"px, "+e+"px)"};a.prototype._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,o=parseInt(t,10),s=parseInt(e,10),r=o===this.position.x&&s===this.position.y;if(this.setPosition(t,e),r&&!this.isTransitioning)return void this.layoutPosition();var a=t-i,l=e-n,h={},p=this.layout.options;a=p.isOriginLeft?a:-a,l=p.isOriginTop?l:-l,h.transform=g(a,l),this.transition({to:h,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},a.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},a.prototype.moveTo=p?a.prototype._transitionTo:a.prototype.goTo,a.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},a.prototype._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},a.prototype._transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);var n=this.element.offsetHeight;n=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var m=h&&n(h)+",opacity";a.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:m,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(c,this,!1))},a.prototype.transition=a.prototype[l?"_transition":"_nonTransition"],a.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},a.prototype.onotransitionend=function(t){this.ontransitionend(t)};var v={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};a.prototype.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=v[t.propertyName]||t.propertyName;if(delete e.ingProperties[n],i(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd){var o=e.onEnd[n];o.call(this),delete e.onEnd[n]}this.emitEvent("transitionEnd",[this])}},a.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(c,this,!1),this.isTransitioning=!1},a.prototype._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var y={transitionProperty:"",transitionDuration:""};return a.prototype.removeTransitionStyles=function(){this.css(y)},a.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},a.prototype.remove=function(){if(!l||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var t=this;this.on("transitionEnd",function(){return t.removeElem(),!0}),this.hide()},a.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options;this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0})},a.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options;this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},a.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a}var s=t.getComputedStyle,r=s?function(t){return s(t,null)}:function(t){return t.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],o):(t.Outlayer={},t.Outlayer.Item=o(t.EventEmitter,t.getSize,t.getStyleProperty))}(window),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){return"[object Array]"===d.call(t)}function n(t){var e=[];if(i(t))e=t;else if(t&&"number"==typeof t.length)for(var n=0,o=t.length;o>n;n++)e.push(t[n]);else e.push(t);return e}function o(t,e){var i=u(e,t);-1!==i&&e.splice(i,1)}function s(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()}function r(i,r,d,u,f,g){function m(t,i){if("string"==typeof t&&(t=a.querySelector(t)),!t||!c(t))return void(l&&l.error("Bad "+this.constructor.namespace+" element: "+t));this.element=t,this.options=e({},this.constructor.defaults),this.option(i);var n=++v;this.element.outlayerGUID=n,y[n]=this,this._create(),this.options.isInitLayout&&this.layout()}var v=0,y={};return m.namespace="outlayer",m.Item=g,m.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},e(m.prototype,d.prototype),m.prototype.option=function(t){e(this.options,t)},m.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),e(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},m.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},m.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],o=0,s=e.length;s>o;o++){var r=e[o],a=new i(r,this);n.push(a)}return n},m.prototype._filterFindItemElements=function(t){t=n(t);for(var e=this.options.itemSelector,i=[],o=0,s=t.length;s>o;o++){var r=t[o];if(c(r))if(e){f(r,e)&&i.push(r);for(var a=r.querySelectorAll(e),l=0,h=a.length;h>l;l++)i.push(a[l])}else i.push(r)}return i},m.prototype.getItemElements=function(){for(var t=[],e=0,i=this.items.length;i>e;e++)t.push(this.items[e].element);return t},m.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},m.prototype._init=m.prototype.layout,m.prototype._resetLayout=function(){this.getSize()},m.prototype.getSize=function(){this.size=u(this.element)},m.prototype._getMeasurement=function(t,e){var i,n=this.options[t];n?("string"==typeof n?i=this.element.querySelector(n):c(n)&&(i=n),this[t]=i?u(i)[e]:n):this[t]=0},m.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},m.prototype._getItemsForLayout=function(t){for(var e=[],i=0,n=t.length;n>i;i++){var o=t[i];o.isIgnored||e.push(o)}return e},m.prototype._layoutItems=function(t,e){function i(){n.emitEvent("layoutComplete",[n,t])}var n=this;if(!t||!t.length)return void i();this._itemsOn(t,"layout",i);for(var o=[],s=0,r=t.length;r>s;s++){var a=t[s],l=this._getItemLayoutPosition(a);l.item=a,l.isInstant=e||a.isLayoutInstant,o.push(l)}this._processLayoutQueue(o)},m.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},m.prototype._processLayoutQueue=function(t){for(var e=0,i=t.length;i>e;e++){var n=t[e];this._positionItem(n.item,n.x,n.y,n.isInstant)}},m.prototype._positionItem=function(t,e,i,n){n?t.goTo(e,i):t.moveTo(e,i)},m.prototype._postLayout=function(){this.resizeContainer()},m.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},m.prototype._getContainerSize=p,m.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},m.prototype._itemsOn=function(t,e,i){function n(){return o++,o===s&&i.call(r),!0}for(var o=0,s=t.length,r=this,a=0,l=t.length;l>a;a++){var h=t[a];h.on(e,n)}},m.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},m.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},m.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,i=t.length;i>e;e++){var n=t[e];this.ignore(n)}}},m.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,i=t.length;i>e;e++){var n=t[e];o(n,this.stamps),this.unignore(n)}},m.prototype._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n(t)):void 0},m.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;e>t;t++){var i=this.stamps[t];this._manageStamp(i)}}},m.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},m.prototype._manageStamp=p,m.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,n=u(t),o={left:e.left-i.left-n.marginLeft,top:e.top-i.top-n.marginTop,right:i.right-e.right-n.marginRight,bottom:i.bottom-e.bottom-n.marginBottom};return o},m.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},m.prototype.bindResize=function(){this.isResizeBound||(i.bind(t,"resize",this),this.isResizeBound=!0)},m.prototype.unbindResize=function(){this.isResizeBound&&i.unbind(t,"resize",this),this.isResizeBound=!1},m.prototype.onresize=function(){function t(){e.resize(),delete e.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(t,100)},m.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},m.prototype.needsResizeLayout=function(){var t=u(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},m.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},m.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},m.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},m.prototype.reveal=function(t){var e=t&&t.length;if(e)for(var i=0;e>i;i++){var n=t[i];n.reveal()}},m.prototype.hide=function(t){var e=t&&t.length;if(e)for(var i=0;e>i;i++){var n=t[i];n.hide()}},m.prototype.getItem=function(t){for(var e=0,i=this.items.length;i>e;e++){var n=this.items[e];if(n.element===t)return n}},m.prototype.getItems=function(t){if(t&&t.length){for(var e=[],i=0,n=t.length;n>i;i++){var o=t[i],s=this.getItem(o);s&&e.push(s)}return e}},m.prototype.remove=function(t){t=n(t);var e=this.getItems(t);if(e&&e.length){this._itemsOn(e,"remove",function(){this.emitEvent("removeComplete",[this,e])});for(var i=0,s=e.length;s>i;i++){var r=e[i];r.remove(),o(r,this.items)}}},m.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,i=this.items.length;i>e;e++){var n=this.items[e];n.destroy()}this.unbindResize(),delete this.element.outlayerGUID,h&&h.removeData(this.element,this.constructor.namespace)},m.data=function(t){var e=t&&t.outlayerGUID;return e&&y[e]},m.create=function(t,i){function n(){m.apply(this,arguments)}return Object.create?n.prototype=Object.create(m.prototype):e(n.prototype,m.prototype),n.prototype.constructor=n,n.defaults=e({},m.defaults),e(n.defaults,i),n.prototype.settings={},n.namespace=t,n.data=m.data,n.Item=function(){g.apply(this,arguments)},n.Item.prototype=new g,r(function(){for(var e=s(t),i=a.querySelectorAll(".js-"+e),o="data-"+e+"-options",r=0,p=i.length;p>r;r++){var d,c=i[r],u=c.getAttribute(o);try{d=u&&JSON.parse(u)}catch(f){l&&l.error("Error parsing "+o+" on "+c.nodeName.toLowerCase()+(c.id?"#"+c.id:"")+": "+f);continue}var g=new n(c,d);h&&h.data(c,t,g)}}),h&&h.bridget&&h.bridget(t,n),n},m.Item=g,m}var a=t.document,l=t.console,h=t.jQuery,p=function(){},d=Object.prototype.toString,c="object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},u=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],r):t.Outlayer=r(t.eventie,t.docReady,t.EventEmitter,t.getSize,t.matchesSelector,t.Outlayer.Item)}(window),function(t){function e(t,e){var n=t.create("masonry");return n.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},n.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},n.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,i=e(t);this.containerWidth=i&&i.innerWidth},n.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,n=e&&1>e?"round":"ceil",o=Math[n](t.size.outerWidth/this.columnWidth);o=Math.min(o,this.cols);for(var s=this._getColGroup(o),r=Math.min.apply(Math,s),a=i(s,r),l={x:this.columnWidth*a,y:r},h=r+t.size.outerHeight,p=this.cols+1-s.length,d=0;p>d;d++)this.colYs[a+d]=h;return l},n.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;i>n;n++){var o=this.colYs.slice(n,n+t);e[n]=Math.max.apply(Math,o)}return e},n.prototype._manageStamp=function(t){var i=e(t),n=this._getElementOffset(t),o=this.options.isOriginLeft?n.left:n.right,s=o+i.outerWidth,r=Math.floor(o/this.columnWidth);r=Math.max(0,r);var a=Math.floor(s/this.columnWidth);a-=s%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var l=(this.options.isOriginTop?n.top:n.bottom)+i.outerHeight,h=r;a>=h;h++)this.colYs[h]=Math.max(l,this.colYs[h])},n.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),
t},n.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},n.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!==this.containerWidth},n}var i=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,n=t.length;n>i;i++){var o=t[i];if(o===e)return i}return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):t.Masonry=e(t.Outlayer,t.getSize)}(window),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(t){r(function(){var e,i;for(e=0;t.length>e;e++)i=t[e],i.obj.css(i.css)})}function i(e){return t.trim(e).toLowerCase()}var n,o,s;s=function(t,e){return function(){return t.apply(e,arguments)}},o={align:"center",autoResize:!1,comparator:null,container:t("body"),direction:void 0,ignoreInactiveItems:!0,itemWidth:0,fillEmptySpace:!1,flexibleWidth:0,offset:2,outerOffset:0,onLayoutChanged:void 0,possibleFilters:[],resizeDelay:50,verticalOffset:void 0};var r=window.requestAnimationFrame||function(t){t()},a=t(window);n=function(){function n(e,i){this.handler=e,this.columns=this.containerWidth=this.resizeTimer=null,this.activeItemCount=0,this.itemHeightsDirty=!0,this.placeholders=[],t.extend(!0,this,o,i),this.verticalOffset=this.verticalOffset||this.offset,this.update=s(this.update,this),this.onResize=s(this.onResize,this),this.onRefresh=s(this.onRefresh,this),this.getItemWidth=s(this.getItemWidth,this),this.layout=s(this.layout,this),this.layoutFull=s(this.layoutFull,this),this.layoutColumns=s(this.layoutColumns,this),this.filter=s(this.filter,this),this.clear=s(this.clear,this),this.getActiveItems=s(this.getActiveItems,this),this.refreshPlaceholders=s(this.refreshPlaceholders,this),this.sortElements=s(this.sortElements,this),this.updateFilterClasses=s(this.updateFilterClasses,this),this.updateFilterClasses(),this.autoResize&&a.bind("resize.wookmark",this.onResize),this.container.bind("refreshWookmark",this.onRefresh)}return n.prototype.updateFilterClasses=function(){for(var t,e,n,o,s=0,r=0,a=0,l={},h=this.possibleFilters;this.handler.length>s;s++)if(e=this.handler.eq(s),t=e.data("filterClass"),"object"==typeof t&&t.length>0)for(r=0;t.length>r;r++)n=i(t[r]),void 0===l[n]&&(l[n]=[]),l[n].push(e[0]);for(;h.length>a;a++)o=i(h[a]),o in l||(l[o]=[]);this.filterClasses=l},n.prototype.update=function(e){this.itemHeightsDirty=!0,t.extend(!0,this,e)},n.prototype.onResize=function(){clearTimeout(this.resizeTimer),this.itemHeightsDirty=0!==this.flexibleWidth,this.resizeTimer=setTimeout(this.layout,this.resizeDelay)},n.prototype.onRefresh=function(){this.itemHeightsDirty=!0,this.layout()},n.prototype.filter=function(e,n,o){var s,r,a,l,h,p=[],d=t();if(e=e||[],n=n||"or",o=o||!1,e.length){for(r=0;e.length>r;r++)h=i(e[r]),h in this.filterClasses&&p.push(this.filterClasses[h]);if(s=p.length,"or"==n||1==s)for(r=0;s>r;r++)d=d.add(p[r]);else if("and"==n){var c,u,f,g=p[0],m=!0;for(r=1;s>r;r++)p[r].length<g.length&&(g=p[r]);for(g=g||[],r=0;g.length>r;r++){for(u=g[r],m=!0,a=0;p.length>a&&m;a++)if(f=p[a],g!=f){for(l=0,c=!1;f.length>l&&!c;l++)c=f[l]==u;m&=c}m&&d.push(g[r])}}o||this.handler.not(d).addClass("inactive")}else d=this.handler;return o||(d.removeClass("inactive"),this.columns=null,this.layout()),d},n.prototype.refreshPlaceholders=function(e,i){for(var n,o,s,r,a,l,h=this.placeholders.length,p=this.columns.length,d=this.container.innerHeight();p>h;h++)n=t('<div class="wookmark-placeholder"/>').appendTo(this.container),this.placeholders.push(n);for(l=this.offset+2*parseInt(this.placeholders[0].css("borderLeftWidth"),10),h=0;this.placeholders.length>h;h++)if(n=this.placeholders[h],s=this.columns[h],h>=p||!s[s.length-1])n.css("display","none");else{if(o=s[s.length-1],!o)continue;a=o.data("wookmark-top")+o.data("wookmark-height")+this.verticalOffset,r=d-a-l,n.css({position:"absolute",display:r>0?"block":"none",left:h*e+i,top:a,width:e-l,height:r})}},n.prototype.getActiveItems=function(){return this.ignoreInactiveItems?this.handler.not(".inactive"):this.handler},n.prototype.getItemWidth=function(){var t=this.itemWidth,e=this.container.width()-2*this.outerOffset,i=this.handler.eq(0),n=this.flexibleWidth;if(void 0===this.itemWidth||0===this.itemWidth&&!this.flexibleWidth?t=i.outerWidth():"string"==typeof this.itemWidth&&this.itemWidth.indexOf("%")>=0&&(t=parseFloat(this.itemWidth)/100*e),n){"string"==typeof n&&n.indexOf("%")>=0&&(n=parseFloat(n)/100*e);var o=e+this.offset,s=~~(.5+o/(n+this.offset)),r=~~(o/(t+this.offset)),a=Math.max(s,r),l=Math.min(n,~~((e-(a-1)*this.offset)/a));t=Math.max(t,l),this.handler.css("width",t)}return t},n.prototype.layout=function(t){if(this.container.is(":visible")){var e,i=this.getItemWidth()+this.offset,n=this.container.width(),o=n-2*this.outerOffset,s=~~((o+this.offset)/i),r=0,a=0,l=0,h=this.getActiveItems(),p=h.length;if(this.itemHeightsDirty||!this.container.data("itemHeightsInitialized")){for(;p>l;l++)e=h.eq(l),e.data("wookmark-height",e.outerHeight());this.itemHeightsDirty=!1,this.container.data("itemHeightsInitialized",!0)}s=Math.max(1,Math.min(s,p)),r=this.outerOffset,"center"==this.align&&(r+=~~(.5+(o-(s*i-this.offset))>>1)),this.direction=this.direction||("right"==this.align?"right":"left"),a=t||null===this.columns||this.columns.length!=s||this.activeItemCount!=p?this.layoutFull(i,s,r):this.layoutColumns(i,r),this.activeItemCount=p,this.container.css("height",a),this.fillEmptySpace&&this.refreshPlaceholders(i,r),void 0!==this.onLayoutChanged&&"function"==typeof this.onLayoutChanged&&this.onLayoutChanged()}},n.prototype.sortElements=function(t){return"function"==typeof this.comparator?t.sort(this.comparator):t},n.prototype.layoutFull=function(i,n,o){var s,r,a=0,l=0,h=t.makeArray(this.getActiveItems()),p=h.length,d=null,c=null,u=[],f=[],g="left"==this.align?!0:!1;for(this.columns=[],h=this.sortElements(h);n>u.length;)u.push(this.outerOffset),this.columns.push([]);for(;p>a;a++){for(s=t(h[a]),d=u[0],c=0,l=0;n>l;l++)d>u[l]&&(d=u[l],c=l);s.data("wookmark-top",d),r=o,(c>0||!g)&&(r+=c*i),(f[a]={obj:s,css:{position:"absolute",top:d}}).css[this.direction]=r,u[c]+=s.data("wookmark-height")+this.verticalOffset,this.columns[c].push(s)}return e(f),Math.max.apply(Math,u)},n.prototype.layoutColumns=function(t,i){for(var n,o,s,r,a=[],l=[],h=0,p=0,d=0;this.columns.length>h;h++){for(a.push(this.outerOffset),o=this.columns[h],r=h*t+i,n=a[h],p=0;o.length>p;p++,d++)s=o[p].data("wookmark-top",n),(l[d]={obj:s,css:{top:n}}).css[this.direction]=r,n+=s.data("wookmark-height")+this.verticalOffset;a[h]=n}return e(l),Math.max.apply(Math,a)},n.prototype.clear=function(){clearTimeout(this.resizeTimer),a.unbind("resize.wookmark",this.onResize),this.container.unbind("refreshWookmark",this.onRefresh),this.handler.wookmarkInstance=null},n}(),t.fn.wookmark=function(t){return this.wookmarkInstance?this.wookmarkInstance.update(t||{}):this.wookmarkInstance=new n(this,t||{}),this.wookmarkInstance.layout(!0),this.show()}}),function(t){var e=function(t){var e=t.clone(),i=t.find("canvas");if(i.length){var n=e.find("canvas");n.each(function(t){var e=this.getContext("2d");e.drawImage(i.get(t),0,0)})}return e};t.fn.quicksand=function(i,n){var o={duration:750,easing:"swing",attribute:"data-id",adjustHeight:"auto",adjustWidth:"auto",useScaling:!1,enhancement:function(t){},selector:"> *",atomic:!1,dx:0,dy:0,maxWidth:0,retainExisting:!0},s=function(){for(var t="transform WebkitTransform MozTransform OTransform msTransform".split(" "),e=document.createElement("div"),i=0;i<t.length;i++)if("undefined"!=typeof e.style[t[i]])return!0;return!1}();t.extend(o,n),s&&"undefined"!=typeof t.fn.scale||(o.useScaling=!1);var r;return r="function"==typeof arguments[1]?arguments[1]:arguments[2],this.each(function(n){var s,a,l=[];a="function"==typeof o.attribute?t(i):e(t(i).filter("["+o.attribute+"]"));var h,p,d=t(this),c=t(this).css("height"),u=t(this).css("width"),f=!1,g=!1,m=t(d).offset(),v=[],y=t(this).find(o.selector),_=t(y).innerWidth();if(navigator.userAgent.match(/msie [6]/i))return void d.html("").append(a);var w=0,b=function(){if(t(this).css("margin","").css("position","").css("top","").css("left","").css("opacity",""),!w){if(w=1,!o.atomic){var e=d.find(o.selector);if(o.retainExisting){var i=t([]);P.find(o.selector).each(function(n){var s=t([]);if("function"==typeof o.attribute){var r=o.attribute(t(this));e.each(function(){return o.attribute(this)==r?(s=t(this),!1):void 0})}else s=e.filter("["+o.attribute+'="'+t(this).attr(o.attribute)+'"]');s.length>0&&(i=i.add(s),0===n?d.prepend(s):s.insertAfter(d.find(o.selector).get(n-1)))}),e.not(i).remove()}else d.prepend(P.find(o.selector)),e.remove();f&&d.css("height",h),g&&d.css("width",u)}o.enhancement(d),"function"==typeof r&&r.call(this)}!1===o.adjustHeight&&d.css("height","auto"),!1===o.adjustWidth&&d.css("width","auto")},x=d.offsetParent(),k=x.offset();"relative"==x.css("position")?"body"!=x.get(0).nodeName.toLowerCase()&&(k.top+=parseFloat(x.css("border-top-width"))||0,k.left+=parseFloat(x.css("border-left-width"))||0):(k.top-=parseFloat(x.css("border-top-width"))||0,k.left-=parseFloat(x.css("border-left-width"))||0,k.top-=parseFloat(x.css("margin-top"))||0,k.left-=parseFloat(x.css("margin-left"))||0),isNaN(k.left)&&(k.left=0),isNaN(k.top)&&(k.top=0),k.left-=o.dx,k.top-=o.dy,d.css("height",t(this).height()),d.css("width",t(this).width()),y.each(function(e){v[e]=t(this).offset()}),t(this).stop();var $=0,I=0;y.each(function(e){t(this).stop();var i=t(this).get(0);"absolute"==i.style.position?($=-o.dx,I=-o.dy):($=o.dx,I=o.dy),i.style.position="absolute",i.style.margin="0",o.adjustWidth||(i.style.width=_+"px"),i.style.top=v[e].top-parseFloat(i.style.marginTop)-k.top+I+"px",i.style.left=v[e].left-parseFloat(i.style.marginLeft)-k.left+$+"px",o.maxWidth>0&&v[e].left>o.maxWidth&&(i.style.display="none")});var P=e(t(d)),S=P.get(0);if(S.innerHTML="",S.setAttribute("id",""),S.style.height="auto",S.style.width=d.width()+"px",P.append(a),P.insertBefore(d),P.css("opacity",0),S.style.zIndex=-1,S.style.margin="0",S.style.position="absolute",S.style.top=m.top-k.top+"px",S.style.left=m.left-k.left+"px","dynamic"===o.adjustHeight?d.animate({height:P.height()},o.duration,o.easing):"auto"===o.adjustHeight&&(h=P.height(),parseFloat(c)<parseFloat(h)?d.css("height",h):f=!0),"dynamic"===o.adjustWidth?d.animate({width:P.width()},o.duration,o.easing):"auto"===o.adjustWidth&&(p=P.width(),parseFloat(u)<parseFloat(p)?d.css("width",p):g=!0),y.each(function(e){var i=[];"function"==typeof o.attribute?(s=o.attribute(t(this)),a.each(function(){return o.attribute(this)==s?(i=t(this),!1):void 0})):i=a.filter("["+o.attribute+'="'+t(this).attr(o.attribute)+'"]'),i.length?o.useScaling?l.push({element:t(this),dest:i,style:{top:t(this).offset().top,left:t(this).offset().left,opacity:""},animation:{top:i.offset().top-k.top,left:i.offset().left-k.left,opacity:1,scale:"1.0"}}):l.push({element:t(this),dest:i,style:{top:t(this).offset().top,left:t(this).offset().left,opacity:""},animation:{top:i.offset().top-k.top,left:i.offset().left-k.left,opacity:1}}):o.useScaling?l.push({element:t(this),animation:{opacity:"0.0",style:{top:t(this).offset().top,left:t(this).offset().left,opacity:""},scale:"0.0"}}):l.push({element:t(this),style:{top:t(this).offset().top,left:t(this).offset().left,opacity:""},animation:{opacity:"0.0"}})}),a.each(function(i){var n=[],r=[];"function"==typeof o.attribute?(s=o.attribute(t(this)),y.each(function(){return o.attribute(this)==s?(n=t(this),!1):void 0}),a.each(function(){return o.attribute(this)==s?(r=t(this),!1):void 0})):(n=y.filter("["+o.attribute+'="'+t(this).attr(o.attribute)+'"]'),r=a.filter("["+o.attribute+'="'+t(this).attr(o.attribute)+'"]'));var h;if(0===n.length&&r.length>0){h=o.useScaling?{opacity:"1.0",scale:"1.0"}:{opacity:"1.0"};var p=e(r),c=p.get(0);c.style.position="absolute",c.style.margin="0",o.adjustWidth||(c.style.width=_+"px"),c.style.top=r.offset().top-k.top+"px",c.style.left=r.offset().left-k.left+"px",p.css("opacity",0),o.useScaling&&p.scale(0),p.appendTo(d),(0===o.maxWidth||r.offset().left<o.maxWidth)&&l.push({element:t(p),dest:r,animation:h})}}),P.remove(),o.atomic){for($toDelete=d.find(o.selector),d.prepend(P.find(o.selector)),n=0;n<l.length;n++)if(l[n].dest&&l[n].style){var M=l[n].dest,C=M.offset();M.css({position:"relative",top:l[n].style.top-C.top,left:l[n].style.left-C.left}),M.animate({top:"0",left:"0"},o.duration,o.easing,b)}else l[n].element.animate(l[n].animation,o.duration,o.easing,b);$toDelete.remove()}else for(o.enhancement(d),n=0;n<l.length;n++)l[n].element.animate(l[n].animation,o.duration,o.easing,b)})}}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,i,n,o){return jQuery.easing[jQuery.easing.def](t,e,i,n,o)},easeInQuad:function(t,e,i,n,o){return n*(e/=o)*e+i},easeOutQuad:function(t,e,i,n,o){return-n*(e/=o)*(e-2)+i},easeInOutQuad:function(t,e,i,n,o){return(e/=o/2)<1?n/2*e*e+i:-n/2*(--e*(e-2)-1)+i},easeInCubic:function(t,e,i,n,o){return n*(e/=o)*e*e+i},easeOutCubic:function(t,e,i,n,o){return n*((e=e/o-1)*e*e+1)+i},easeInOutCubic:function(t,e,i,n,o){return(e/=o/2)<1?n/2*e*e*e+i:n/2*((e-=2)*e*e+2)+i},easeInQuart:function(t,e,i,n,o){return n*(e/=o)*e*e*e+i},easeOutQuart:function(t,e,i,n,o){return-n*((e=e/o-1)*e*e*e-1)+i},easeInOutQuart:function(t,e,i,n,o){return(e/=o/2)<1?n/2*e*e*e*e+i:-n/2*((e-=2)*e*e*e-2)+i},easeInQuint:function(t,e,i,n,o){return n*(e/=o)*e*e*e*e+i},easeOutQuint:function(t,e,i,n,o){return n*((e=e/o-1)*e*e*e*e+1)+i},easeInOutQuint:function(t,e,i,n,o){return(e/=o/2)<1?n/2*e*e*e*e*e+i:n/2*((e-=2)*e*e*e*e+2)+i},easeInSine:function(t,e,i,n,o){return-n*Math.cos(e/o*(Math.PI/2))+n+i},easeOutSine:function(t,e,i,n,o){return n*Math.sin(e/o*(Math.PI/2))+i},easeInOutSine:function(t,e,i,n,o){return-n/2*(Math.cos(Math.PI*e/o)-1)+i},easeInExpo:function(t,e,i,n,o){return 0==e?i:n*Math.pow(2,10*(e/o-1))+i},easeOutExpo:function(t,e,i,n,o){return e==o?i+n:n*(-Math.pow(2,-10*e/o)+1)+i},easeInOutExpo:function(t,e,i,n,o){return 0==e?i:e==o?i+n:(e/=o/2)<1?n/2*Math.pow(2,10*(e-1))+i:n/2*(-Math.pow(2,-10*--e)+2)+i},easeInCirc:function(t,e,i,n,o){return-n*(Math.sqrt(1-(e/=o)*e)-1)+i},easeOutCirc:function(t,e,i,n,o){return n*Math.sqrt(1-(e=e/o-1)*e)+i},easeInOutCirc:function(t,e,i,n,o){return(e/=o/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+i:n/2*(Math.sqrt(1-(e-=2)*e)+1)+i},easeInElastic:function(t,e,i,n,o){var s=1.70158,r=0,a=n;if(0==e)return i;if(1==(e/=o))return i+n;if(r||(r=.3*o),a<Math.abs(n)){a=n;var s=r/4}else var s=r/(2*Math.PI)*Math.asin(n/a);return-(a*Math.pow(2,10*(e-=1))*Math.sin(2*(e*o-s)*Math.PI/r))+i},easeOutElastic:function(t,e,i,n,o){var s=1.70158,r=0,a=n;if(0==e)return i;if(1==(e/=o))return i+n;if(r||(r=.3*o),a<Math.abs(n)){a=n;var s=r/4}else var s=r/(2*Math.PI)*Math.asin(n/a);return a*Math.pow(2,-10*e)*Math.sin(2*(e*o-s)*Math.PI/r)+n+i},easeInOutElastic:function(t,e,i,n,o){var s=1.70158,r=0,a=n;if(0==e)return i;if(2==(e/=o/2))return i+n;if(r||(r=.3*o*1.5),a<Math.abs(n)){a=n;var s=r/4}else var s=r/(2*Math.PI)*Math.asin(n/a);return 1>e?-.5*a*Math.pow(2,10*(e-=1))*Math.sin(2*(e*o-s)*Math.PI/r)+i:a*Math.pow(2,-10*(e-=1))*Math.sin(2*(e*o-s)*Math.PI/r)*.5+n+i},easeInBack:function(t,i,n,o,s,r){return r==e&&(r=1.70158),o*(i/=s)*i*((r+1)*i-r)+n},easeOutBack:function(t,i,n,o,s,r){return r==e&&(r=1.70158),o*((i=i/s-1)*i*((r+1)*i+r)+1)+n},easeInOutBack:function(t,i,n,o,s,r){return r==e&&(r=1.70158),(i/=s/2)<1?o/2*i*i*(((r*=1.525)+1)*i-r)+n:o/2*((i-=2)*i*(((r*=1.525)+1)*i+r)+2)+n},easeInBounce:function(t,e,i,n,o){return n-jQuery.easing.easeOutBounce(t,o-e,0,n,o)+i},easeOutBounce:function(t,e,i,n,o){return(e/=o)<1/2.75?7.5625*n*e*e+i:2/2.75>e?n*(7.5625*(e-=1.5/2.75)*e+.75)+i:2.5/2.75>e?n*(7.5625*(e-=2.25/2.75)*e+.9375)+i:n*(7.5625*(e-=2.625/2.75)*e+.984375)+i},easeInOutBounce:function(t,e,i,n,o){return o/2>e?.5*jQuery.easing.easeInBounce(t,2*e,0,n,o)+i:.5*jQuery.easing.easeOutBounce(t,2*e-o,0,n,o)+.5*n+i}}),!function(t){function e(t,n,o,s){function r(t){o.maxRows&&d>o.maxRows||o.truncate&&t?u[a][0].hide():(u[a][5]&&(u[a][4].attr("src",u[a][5]),u[a][5]=""),u[a][0].css({width:l,height:g}).show())}var a,l,p=1,d=1,c=t.width(),u=[],f=0,g=o.rowHeight;for(i=0;i<n.length;i++)if(u.push(n[i]),f+=n[i][3]+o.margin,f>=c){for(p=c/f,g=Math.ceil(o.rowHeight*p),exact_w=0,a=0;a<u.length;a++)l=Math.ceil(u[a][3]*p),exact_w+=l+o.margin,exact_w>c&&(l-=exact_w-c+1),r();u=[],f=0,d++}for(a=0;a<u.length;a++)l=Math.floor(u[a][3]*p),h=Math.floor(o.rowHeight*p),r(!0);s||c==t.width()||e(t,n,o,!0)}t.fn.flexImages=function(i){var n=t.extend({container:".item",object:"img",rowHeight:180,maxRows:0,truncate:!1},i);return this.each(function(){var i=t(this),o=t(n.container,i),s=[],r=o.eq(0),a=(new Date).getTime();n.margin=r.outerWidth(!0)-r.innerWidth(),o.each(function(){var e=parseInt(t(this).data("w")),i=parseInt(t(this).data("h")),o=e*(n.rowHeight/i),r=t(this).find(n.object);s.push([t(this),e,i,o,r,r.data("src")])}),e(i,s,n),t(window).off("resize.flexImages"+i.data("flex-t")),t(window).on("resize.flexImages"+a,function(){e(i,s,n)}),i.data("flex-t",a)})}}(jQuery),function(t,e){"use strict";var i={item:3,autoWidth:!1,slideMove:1,slideMargin:10,addClass:"",mode:"slide",useCSS:!0,cssEasing:"ease",easing:"linear",speed:400,auto:!1,loop:!1,slideEndAnimatoin:!0,pause:2e3,keyPress:!1,controls:!0,prevHtml:"",nextHtml:"",rtl:!1,adaptiveHeight:!1,vertical:!1,verticalHeight:500,vThumbWidth:100,thumbItem:10,pager:!0,gallery:!1,galleryMargin:5,thumbMargin:5,currentPagerPosition:"middle",enableTouch:!0,enableDrag:!0,freeMove:!0,swipeThreshold:40,responsive:[],onBeforeStart:function(t){},onSliderLoad:function(t){},onBeforeSlide:function(t,e){},onAfterSlide:function(t,e){},onBeforeNextSlide:function(t,e){},onBeforePrevSlide:function(t,e){}};t.fn.lightSlider=function(e){if(0===this.length)return this;if(this.length>1)return this.each(function(){t(this).lightSlider(e)}),this;var n={},o=t.extend(!0,{},i,e),s={},r=this;n.$el=this,"fade"===o.mode&&(o.vertical=!1);var a=r.children(),l=t(window).width(),h=null,p=null,d=0,c=0,u=!1,f=0,g="",m=0,v=o.vertical===!0?"height":"width",y=o.vertical===!0?"margin-bottom":"margin-right",_=0,w=0,b=0,x=0,k=null,$="ontouchstart"in document.documentElement,I=new Object;return I.chbreakpoint=function(){if(l=t(window).width(),o.responsive.length){if(o.autoWidth===!1)var e=o.item;if(l<o.responsive[0].breakpoint)for(var i=0;i<o.responsive.length;i++)l<o.responsive[i].breakpoint&&(h=o.responsive[i].breakpoint,p=o.responsive[i]);if("undefined"!=typeof p&&null!=p)for(i in p.settings)("undefined"==typeof s[i]||null==s[i])&&(s[i]=o[i]),o[i]=p.settings[i];if(!t.isEmptyObject(s)&&l>o.responsive[0].breakpoint)for(i in s)o[i]=s[i];o.autoWidth===!1&&_>0&&b>0&&e!==o.item&&(m=Math.round(_/((b+o.slideMargin)*o.slideMove)))}},I.calSW=function(){o.autoWidth===!1&&(b=(f-(o.item*o.slideMargin-o.slideMargin))/o.item)},I.calWidth=function(t){var e=t===!0?g.find(".lslide").length:a.length;if(o.autoWidth===!1)c=e*(b+o.slideMargin);else{c=0;for(var i=0;e>i;i++)c+=parseInt(a.eq(i).width())+o.slideMargin}return c%1!==0&&(c+=1),c},n={doCss:function(){var t=function(){for(var t=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],e=document.documentElement,i=0;i<t.length;i++)if(t[i]in e.style)return!0};return o.useCSS&&t()?!0:!1},keyPress:function(){o.keyPress&&t(document).on("keyup.lightslider",function(t){t.preventDefault(),37===t.keyCode?(r.goToPrevSlide(),clearInterval(k)):39===t.keyCode&&(r.goToNextSlide(),clearInterval(k))})},controls:function(){o.controls&&(r.after('<div class="lSAction"><a class="lSPrev">'+o.prevHtml+'</a><a class="lSNext">'+o.nextHtml+"</a></div>"),o.autoWidth?I.calWidth(!1)<f&&g.find(".lSAction").hide():d<=o.item&&g.find(".lSAction").hide(),g.find(".lSAction a").on("click",function(e){return e.preventDefault(),"lSPrev"===t(this).attr("class")?r.goToPrevSlide():r.goToNextSlide(),clearInterval(k),!1}))},initialStyle:function(){var t=this;"fade"===o.mode&&(o.autoWidth=!1,o.slideEndAnimatoin=!1),o.auto&&(o.slideEndAnimatoin=!1),o.autoWidth&&(o.slideMove=1,o.item=1),o.loop&&(o.slideMove=1,o.freeMove=!1),o.onBeforeStart.call(this,r),I.chbreakpoint(),r.addClass("lightSlider").wrap("<div class='lSSlideOuter "+o.addClass+"'><div class='lSSlideWrapper'></div></div>"),g=r.parent(".lSSlideWrapper"),o.rtl===!0&&g.parent().addClass("lSrtl"),o.vertical?(g.parent().addClass("vertical"),f=o.verticalHeight,g.css("height",f+"px")):f=r.outerWidth(),a.addClass("lslide"),o.loop===!0&&"slide"===o.mode&&(I.calSW(),I.clone=function(){if(I.calWidth(!0)>f){for(var e=0,i=0,n=0;n<a.length&&(e+=parseInt(r.find(".lslide").eq(n).width())+o.slideMargin,i++,!(e>=f+o.slideMargin));n++);var s=o.autoWidth===!0?i:o.item;if(s<r.find(".clone.left").length)for(var l=0;l<r.find(".clone.left").length-s;l++)a.eq(l).remove();if(s<r.find(".clone.right").length)for(var h=a.length-1;h>a.length-1-r.find(".clone.right").length;h--)m--,a.eq(h).remove();for(var n=r.find(".clone.right").length;s>n;n++)r.find(".lslide").eq(n).clone().removeClass("lslide").addClass("clone right").appendTo(r),m++;for(var p=r.find(".lslide").length-r.find(".clone.left").length;p>r.find(".lslide").length-s;p--)r.find(".lslide").eq(p-1).clone().removeClass("lslide").addClass("clone left").prependTo(r);a=r.children()}else a.hasClass("clone")&&(r.find(".clone").remove(),t.move(r,0))},I.clone()),I.sSW=function(){d=a.length,o.rtl===!0&&o.vertical===!1&&(y="margin-left"),o.autoWidth===!1&&a.css(v,b+"px"),a.css(y,o.slideMargin+"px"),c=I.calWidth(!1),r.css(v,c+"px"),o.loop===!0&&"slide"===o.mode&&u===!1&&(m=r.find(".clone.left").length)},I.calL=function(){a=r.children(),d=a.length},this.doCss()&&g.addClass("usingCss"),I.calL(),"slide"===o.mode?(I.calSW(),I.sSW(),o.loop===!0&&(_=t.slideValue(),this.move(r,_)),o.vertical===!1&&this.setHeight(r,!1,!0)):(this.setHeight(r,!0,!0),r.addClass("lSFade"),this.doCss()||a.not(".active").css("display","none")),o.loop===!0&&"slide"===o.mode?a.eq(m).addClass("active"):a.first().addClass("active")},pager:function(){var t=this;if(I.createPager=function(){x=(f-(o.thumbItem*o.thumbMargin-o.thumbMargin))/o.thumbItem;var e=g.find(".lslide"),i=g.find(".lslide").length,n=0,s="",a=0;for(n=0;i>n;n++){"slide"===o.mode&&(o.autoWidth?a+=(parseInt(e.eq(n).width())+o.slideMargin)*o.slideMove:a=n*((b+o.slideMargin)*o.slideMove));var l=e.eq(n*o.slideMove).attr("data-thumb");if(s+=o.gallery===!0?'<li style="width:100%;'+v+":"+x+"px;"+y+":"+o.thumbMargin+'px"><a href="#"><img src="'+l+'" /></a></li>':'<li><a href="#">'+(n+1)+"</a></li>","slide"===o.mode&&a>=c-f-o.slideMargin){n+=1;var h=2;o.autoWidth&&(s+='<li><a href="#">'+(n+1)+"</a></li>",h=1),h>n?(s=null,g.parent().addClass("noPager")):g.parent().removeClass("noPager");break}}var p=g.parent();if(p.find(".lSPager").html(s),!o.vertical&&o.gallery){var d=g.parent().find(".lSGallery");setTimeout(function(){t.setHeight(d,!1,!1)})}o.gallery===!0&&(o.vertical===!0&&p.find(".lSPager").css("width",o.vThumbWidth+"px"),w=n*(o.thumbMargin+x)+.5,p.find(".lSPager").css({property:w+"px","transition-duration":o.speed+"ms"}),o.vertical===!0&&g.parent().css("padding-right",o.vThumbWidth+o.galleryMargin+"px"),p.find(".lSPager").css(v,w+"px"));var u=p.find(".lSPager").find("li");u.first().addClass("active"),u.on("click",function(){return o.loop===!0&&"slide"===o.mode?m+=u.index(this)-p.find(".lSPager").find("li.active").index():m=u.index(this),r.mode(!1),o.gallery===!0&&t.slideThumb(),clearInterval(k),!1})},o.pager){var e="lSpg";o.gallery&&(e="lSGallery"),g.after('<ul class="lSPager '+e+'"></ul>');var i=o.vertical?"margin-left":"margin-top";g.parent().find(".lSPager").css(i,o.galleryMargin+"px"),I.createPager()}setTimeout(function(){I.init()},0)},setHeight:function(t,e,i){var n=null;n=i?t.children(".lslide ").first():t.children().first();var o=function(){var i=n.height(),o=0,s=i;e&&(i=0,o=100*s/f),t.css({height:i+"px","padding-bottom":o+"%"})};o(),n.find("img").load(function(){setTimeout(function(){o()},100)})},active:function(t,e){this.doCss()&&"fade"===o.mode&&g.addClass("on");var i=0;if(m*o.slideMove<d){if(t.removeClass("active"),this.doCss()||"fade"!==o.mode||e!==!1||t.fadeOut(o.speed),i=e===!0?m:m*o.slideMove,e===!0){var n=t.length,s=n-1;i+1>=n&&(i=s)}if(o.loop===!0&&"slide"===o.mode&&(i=e===!0?m-r.find(".clone.left").length:m*o.slideMove,e===!0)){var n=t.length,s=n-1;i+1==n?i=s:i+1>n&&(i=0)}this.doCss()||"fade"!==o.mode||e!==!1||t.eq(i).fadeIn(o.speed),t.eq(i).addClass("active")}else t.removeClass("active"),t.eq(t.length-1).addClass("active"),this.doCss()||"fade"!==o.mode||e!==!1||(t.fadeOut(o.speed),t.eq(i).fadeIn(o.speed))},move:function(t,e){o.rtl===!0&&(e=-e),this.doCss()?o.vertical===!0?t.css({transform:"translate3d(0px, "+-e+"px, 0px)","-webkit-transform":"translate3d(0px, "+-e+"px, 0px)"}):t.css({transform:"translate3d("+-e+"px, 0px, 0px)","-webkit-transform":"translate3d("+-e+"px, 0px, 0px)"}):o.vertical===!0?t.css("position","relative").animate({top:-e+"px"},o.speed,o.easing):t.css("position","relative").animate({left:-e+"px"},o.speed,o.easing);var i=g.parent().find(".lSPager").find("li");this.active(i,!0)},fade:function(){this.active(a,!1);var t=g.parent().find(".lSPager").find("li");this.active(t,!0)},slide:function(){var t=this;I.calSlide=function(){c>f&&(_=t.slideValue(),t.active(a,!1),_>c-f-o.slideMargin?_=c-f-o.slideMargin:0>_&&(_=0),t.move(r,_),o.loop===!0&&"slide"===o.mode&&(m>=d-r.find(".clone.left").length/o.slideMove&&t.resetSlide(r.find(".clone.left").length),0===m&&t.resetSlide(g.find(".lslide").length)))},I.calSlide()},resetSlide:function(t){var e=this;g.find(".lSAction a").addClass("disabled"),setTimeout(function(){m=t,g.css("transition-duration","0ms"),_=e.slideValue(),e.active(a,!1),n.move(r,_),setTimeout(function(){g.css("transition-duration",o.speed+"ms"),g.find(".lSAction a").removeClass("disabled")},50)},o.speed+100)},slideValue:function(){var t=0;if(o.autoWidth===!1)t=m*((b+o.slideMargin)*o.slideMove);else{t=0;for(var e=0;m>e;e++)t+=parseInt(a.eq(e).width())+o.slideMargin}return t},slideThumb:function(){var t;switch(o.currentPagerPosition){case"left":t=0;break;case"middle":t=f/2-x/2;break;case"right":t=f-x}var e=m-r.find(".clone.left").length,i=g.parent().find(".lSPager");"slide"===o.mode&&o.loop===!0&&(e>=i.children().length?e=0:0>e&&(e=i.children().length));var n=e*(x+o.thumbMargin)-t;n+f>w&&(n=w-f-o.thumbMargin),0>n&&(n=0),this.move(i,n)},auto:function(){o.auto&&(k=setInterval(function(){r.goToNextSlide()},o.pause))},touchMove:function(t,e){if(g.css("transition-duration","0ms"),"slide"===o.mode){var i=t-e,n=_-i;if(n>=c-f-o.slideMargin)if(o.freeMove===!1)n=c-f-o.slideMargin;else{var s=c-f-o.slideMargin;n=s+(n-s)/5}else 0>n&&(o.freeMove===!1?n=0:n/=5);this.move(r,n)}},touchEnd:function(t){if(g.css("transition-duration",o.speed+"ms"),clearInterval(k),"slide"===o.mode){var e=!1,i=!0;_-=t,_>c-f-o.slideMargin?(_=c-f-o.slideMargin,o.autoWidth===!1&&(e=!0)):0>_&&(_=0);var n=function(t){var i=0;if(e||t&&(i=1),o.autoWidth)for(var n=0,s=0;s<a.length&&(n+=parseInt(a.eq(s).width())+o.slideMargin,m=s+i,!(n>=_));s++);else{var r=_/((b+o.slideMargin)*o.slideMove);m=parseInt(r)+i,_>=c-f-o.slideMargin&&r%1!==0&&m++}};t>=o.swipeThreshold?(n(!1),i=!1):t<=-o.swipeThreshold&&(n(!0),i=!1),r.mode(i),this.slideThumb()}else t>=o.swipeThreshold?r.goToPrevSlide():t<=-o.swipeThreshold&&r.goToNextSlide()},enableDrag:function(){var e=this;if(!$){var i=0,n=0,s=!1;g.on("mousedown",function(e){return f>c&&0!==c?!1:void("lSPrev"!==t(e.target).attr("class")&&"lSNext"!==t(e.target).attr("class")&&(i=o.vertical===!0?e.pageY:e.pageX,s=!0,e.preventDefault()))}),t(window).on("mousemove",function(t){s&&(n=o.vertical===!0?t.pageY:t.pageX,e.touchMove(n,i))}),t(window).on("mouseup",function(r){if(s){s=!1,n=o.vertical===!0?r.pageY:r.pageX;var a=n-i;Math.abs(a)>=o.swipeThreshold&&t(window).on("click.ls",function(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),t(window).off("click.ls")}),e.touchEnd(a)}})}},enableTouch:function(){var t=this;if($){var e={},i={};g.on("touchstart",function(t){i=t.originalEvent.targetTouches[0],e.pageX=t.originalEvent.targetTouches[0].pageX,e.pageY=t.originalEvent.targetTouches[0].pageY}),g.on("touchmove",function(n){if(f>c&&0!==c)return!1;var s=n.originalEvent;i=s.targetTouches[0];var r=Math.abs(i.pageX-e.pageX),a=Math.abs(i.pageY-e.pageY);o.vertical===!0?(3*a>r&&n.preventDefault(),t.touchMove(i.pageY,e.pageY)):(3*r>a&&n.preventDefault(),t.touchMove(i.pageX,e.pageX))}),g.on("touchend",function(){if(f>c&&0!==c)return!1;if(o.vertical===!0)var n=i.pageY-e.pageY;else var n=i.pageX-e.pageX;t.touchEnd(n)})}},build:function(){var t=this;t.initialStyle(),t.auto(),this.doCss()&&(o.enableTouch===!0&&t.enableTouch(),o.enableDrag===!0&&t.enableDrag()),t.pager(),t.controls(),t.keyPress()}},n.build(),I.init=function(){I.chbreakpoint(),o.vertical===!0?(f=o.item>1?o.verticalHeight:a.outerHeight(),g.css("height",f+"px")):f=g.outerWidth(),o.loop===!0&&"slide"===o.mode&&I.clone(),I.calL(),"slide"===o.mode&&r.removeClass("lSSlide"),"slide"===o.mode&&(I.calSW(),I.sSW()),setTimeout(function(){"slide"===o.mode&&r.addClass("lSSlide")},1e3),o.pager&&I.createPager(),o.adaptiveHeight===!0&&o.vertical===!1&&r.css("height",a.eq(m).height()),o.gallery===!0&&n.slideThumb(),"slide"===o.mode&&n.slide(),o.autoWidth===!1?a.length<=o.item?g.find(".lSAction").hide():g.find(".lSAction").show():I.calWidth(!1)<f&&0!==c?g.find(".lSAction").hide():g.find(".lSAction").show()},r.goToPrevSlide=function(){if(m>0)o.onBeforePrevSlide.call(this,r,m),m--,r.mode(!1),o.gallery===!0&&n.slideThumb();else if(o.loop===!0){if(o.onBeforePrevSlide.call(this,r,m),"fade"===o.mode){var t=d-1;m=parseInt(t/o.slideMove)}r.mode(!1),o.gallery===!0&&n.slideThumb()}else o.slideEndAnimatoin===!0&&(r.addClass("leftEnd"),setTimeout(function(){r.removeClass("leftEnd")},400))},r.goToNextSlide=function(){var t=!0;if("slide"===o.mode)var e=n.slideValue(),t=e<c-f-o.slideMargin;m*o.slideMove<d-o.slideMove&&t?(o.onBeforeNextSlide.call(this,r,m),m++,r.mode(!1),o.gallery===!0&&n.slideThumb()):o.loop===!0?(o.onBeforeNextSlide.call(this,r,m),m=0,r.mode(!1),o.gallery===!0&&n.slideThumb()):o.slideEndAnimatoin===!0&&(r.addClass("rightEnd"),setTimeout(function(){r.removeClass("rightEnd")},400))},r.mode=function(t){o.adaptiveHeight===!0&&o.vertical===!1&&r.css("height",a.eq(m).height()),u===!1&&("slide"===o.mode?n.doCss()&&(r.addClass("lSSlide"),""!==o.speed&&g.css("transition-duration",o.speed+"ms"),""!==o.cssEasing&&g.css("transition-timing-function",o.cssEasing)):n.doCss()&&(""!==o.speed&&r.css("transition-duration",o.speed+"ms"),""!==o.cssEasing&&r.css("transition-timing-function",o.cssEasing))),t||o.onBeforeSlide.call(this,r,m),"slide"===o.mode?n.slide():n.fade(),setTimeout(function(){t||o.onAfterSlide.call(this,r,m)},o.speed),u=!0},r.play=function(){clearInterval(k),r.goToNextSlide(),k=setInterval(function(){r.goToNextSlide()},o.pause)},r.pause=function(){clearInterval(k)},r.refresh=function(){I.init()},r.getCurrentSlideCount=function(){var t=m;if(o.loop){var e=g.find(".lslide").length,i=r.find(".clone.left").length;t=i-1>=m?e+(m-i):m>=e+i?m-e-i:m-i}return t+1},r.getTotalSlideCount=function(){return g.find(".lslide").length},r.goToSlide=function(t){m=o.loop?t+r.find(".clone.left").length-1:t,r.mode(!1),o.gallery===!0&&n.slideThumb()},setTimeout(function(){o.onSliderLoad.call(this,r)},10),t(window).on("resize orientationchange",function(t){setTimeout(function(){t.preventDefault(),I.init()},200)}),this}}(jQuery),function(t){function i(){var t=location.href;return hashtag=-1!==t.indexOf("#prettyPhoto")?decodeURI(t.substring(t.indexOf("#prettyPhoto")+1,t.length)):!1,hashtag&&(hashtag=hashtag.replace(/<|>/g,"")),hashtag}function n(){"undefined"!=typeof theRel&&(location.hash=theRel+"/"+rel_index+"/")}function s(){-1!==location.href.indexOf("#prettyPhoto")&&(location.hash="prettyPhoto")}function r(t,e){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");
var i="[\\?&]"+t+"=([^&#]*)",n=new RegExp(i),o=n.exec(e);return null==o?"":o[1]}t.prettyPhoto={version:"3.1.6"},t.fn.prettyPhoto=function(a){function l(){t(".pp_loaderIcon").hide(),projectedTop=scroll_pos.scrollTop+(M/2-_.containerHeight/2),projectedTop<0&&(projectedTop=0),$ppt.fadeTo(settings.animation_speed,1),$pp_pic_holder.find(".pp_content").animate({height:_.contentHeight,width:_.contentWidth},settings.animation_speed),$pp_pic_holder.animate({top:projectedTop,left:C/2-_.containerWidth/2<0?0:C/2-_.containerWidth/2,width:_.containerWidth},settings.animation_speed,function(){$pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(_.height).width(_.width),$pp_pic_holder.find(".pp_fade").fadeIn(settings.animation_speed),isSet&&"image"==u(pp_images[set_position])?$pp_pic_holder.find(".pp_hoverContainer").show():$pp_pic_holder.find(".pp_hoverContainer").hide(),settings.allow_expand&&(_.resized?t("a.pp_expand,a.pp_contract").show():t("a.pp_expand").hide()),!settings.autoplay_slideshow||I||w||t.prettyPhoto.startSlideshow(),settings.changepicturecallback(),w=!0}),v(),a.ajaxcallback()}function h(e){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden"),$pp_pic_holder.find(".pp_fade").fadeOut(settings.animation_speed,function(){t(".pp_loaderIcon").show(),e()})}function p(e){e>1?t(".pp_nav").show():t(".pp_nav").hide()}function d(t,e){if(resized=!1,c(t,e),imageWidth=t,imageHeight=e,($>C||k>M)&&doresize&&settings.allow_resize&&!S){for(resized=!0,fitting=!1;!fitting;)$>C?(imageWidth=C-200,imageHeight=e/t*imageWidth):k>M?(imageHeight=M-200,imageWidth=t/e*imageHeight):fitting=!0,k=imageHeight,$=imageWidth;($>C||k>M)&&d($,k),c(imageWidth,imageHeight)}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(k),containerWidth:Math.floor($)+2*settings.horizontal_padding,contentHeight:Math.floor(b),contentWidth:Math.floor(x),resized:resized}}function c(e,i){e=parseFloat(e),i=parseFloat(i),$pp_details=$pp_pic_holder.find(".pp_details"),$pp_details.width(e),detailsHeight=parseFloat($pp_details.css("marginTop"))+parseFloat($pp_details.css("marginBottom")),$pp_details=$pp_details.clone().addClass(settings.theme).width(e).appendTo(t("body")).css({position:"absolute",top:-1e4}),detailsHeight+=$pp_details.height(),detailsHeight=detailsHeight<=34?36:detailsHeight,$pp_details.remove(),$pp_title=$pp_pic_holder.find(".ppt"),$pp_title.width(e),titleHeight=parseFloat($pp_title.css("marginTop"))+parseFloat($pp_title.css("marginBottom")),$pp_title=$pp_title.clone().appendTo(t("body")).css({position:"absolute",top:-1e4}),titleHeight+=$pp_title.height(),$pp_title.remove(),b=i+detailsHeight,x=e,k=b+titleHeight+$pp_pic_holder.find(".pp_top").height()+$pp_pic_holder.find(".pp_bottom").height(),$=e}function u(t){return t.match(/youtube\.com\/watch/i)||t.match(/youtu\.be/i)?"youtube":t.match(/vimeo\.com/i)?"vimeo":t.match(/\b.mov\b/i)?"quicktime":t.match(/\b.swf\b/i)?"flash":t.match(/\biframe=true\b/i)?"iframe":t.match(/\bajax=true\b/i)?"ajax":t.match(/\bcustom=true\b/i)?"custom":"#"==t.substr(0,1)?"inline":"image"}function f(){if(doresize&&"undefined"!=typeof $pp_pic_holder){if(scroll_pos=g(),contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width(),projectedTop=M/2+scroll_pos.scrollTop-contentHeight/2,projectedTop<0&&(projectedTop=0),contentHeight>M)return;$pp_pic_holder.css({top:projectedTop,left:C/2+scroll_pos.scrollLeft-contentwidth/2})}}function g(){return self.pageYOffset?{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset}:document.documentElement&&document.documentElement.scrollTop?{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft}:document.body?{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}:void 0}function m(){M=t(window).height(),C=t(window).width(),"undefined"!=typeof $pp_overlay&&$pp_overlay.height(t(document).height()).width(C)}function v(){isSet&&settings.overlay_gallery&&"image"==u(pp_images[set_position])?(itemWidth=57,navWidth="facebook"==settings.theme||"pp_default"==settings.theme?50:30,itemsPerPage=Math.floor((_.containerWidth-100-navWidth)/itemWidth),itemsPerPage=itemsPerPage<pp_images.length?itemsPerPage:pp_images.length,totalPage=Math.ceil(pp_images.length/itemsPerPage)-1,0==totalPage?(navWidth=0,$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").hide()):$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show(),galleryWidth=itemsPerPage*itemWidth,fullGalleryWidth=pp_images.length*itemWidth,$pp_gallery.css("margin-left",-(galleryWidth/2+navWidth/2)).find("div:first").width(galleryWidth+5).find("ul").width(fullGalleryWidth).find("li.selected").removeClass("selected"),goToPage=Math.floor(set_position/itemsPerPage)<totalPage?Math.floor(set_position/itemsPerPage):totalPage,t.prettyPhoto.changeGalleryPage(goToPage),$pp_gallery_li.filter(":eq("+set_position+")").addClass("selected")):$pp_pic_holder.find(".pp_content").unbind("mouseenter mouseleave")}function y(e){if(settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href))),settings.markup=settings.markup.replace("{pp_social}",""),t("body").append(settings.markup),$pp_pic_holder=t(".pp_pic_holder"),$ppt=t(".ppt"),$pp_overlay=t("div.pp_overlay"),isSet&&settings.overlay_gallery){currentGalleryPage=0,toInject="";for(var i=0;i<pp_images.length;i++)pp_images[i].match(/\b(jpg|jpeg|png|gif)\b/gi)?(classname="",img_src=pp_images[i]):(classname="default",img_src=""),toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /></a></li>";toInject=settings.gallery_markup.replace(/{gallery}/g,toInject),$pp_pic_holder.find("#pp_full_res").after(toInject),$pp_gallery=t(".pp_pic_holder .pp_gallery"),$pp_gallery_li=$pp_gallery.find("li"),$pp_gallery.find(".pp_arrow_next").click(function(){return t.prettyPhoto.changeGalleryPage("next"),t.prettyPhoto.stopSlideshow(),!1}),$pp_gallery.find(".pp_arrow_previous").click(function(){return t.prettyPhoto.changeGalleryPage("previous"),t.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_content").hover(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn()},function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut()}),itemWidth=57,$pp_gallery_li.each(function(e){t(this).find("a").click(function(){return t.prettyPhoto.changePage(e),t.prettyPhoto.stopSlideshow(),!1})})}settings.slideshow&&($pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play">Play</a>'),$pp_pic_holder.find(".pp_nav .pp_play").click(function(){return t.prettyPhoto.startSlideshow(),!1})),$pp_pic_holder.attr("class","pp_pic_holder "+settings.theme),$pp_overlay.css({opacity:0,height:t(document).height(),width:t(window).width()}).bind("click",function(){settings.modal||t.prettyPhoto.close()}),t("a.pp_close").bind("click",function(){return t.prettyPhoto.close(),!1}),settings.allow_expand&&t("a.pp_expand").bind("click",function(e){return t(this).hasClass("pp_expand")?(t(this).removeClass("pp_expand").addClass("pp_contract"),doresize=!1):(t(this).removeClass("pp_contract").addClass("pp_expand"),doresize=!0),h(function(){t.prettyPhoto.open()}),!1}),$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").bind("click",function(){return t.prettyPhoto.changePage("previous"),t.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").bind("click",function(){return t.prettyPhoto.changePage("next"),t.prettyPhoto.stopSlideshow(),!1}),f()}a=jQuery.extend({hook:"rel",animation_speed:"fast",ajaxcallback:function(){},slideshow:5e3,autoplay_slideshow:!1,opacity:.8,show_title:!0,allow_resize:!0,allow_expand:!0,default_width:500,default_height:344,counter_separator_label:"/",theme:"pp_default",horizontal_padding:20,hideflash:!1,wmode:"opaque",autoplay:!0,modal:!1,deeplinking:!0,overlay_gallery:!0,overlay_gallery_max:30,keyboard_shortcuts:!0,changepicturecallback:function(){},callback:function(){},ie6_fallback:!0,markup:'<div class="pp_pic_holder">                             <div class="ppt">&nbsp;</div>                             <div class="pp_top">                                 <div class="pp_left"></div>                                 <div class="pp_middle"></div>                                 <div class="pp_right"></div>                             </div>                             <div class="pp_content_container">                                 <div class="pp_left">                                 <div class="pp_right">                                     <div class="pp_content">                                         <div class="pp_loaderIcon"></div>                                         <div class="pp_fade">                                             <a href="#" class="pp_expand" title="Expand the image">Expand</a>                                             <div class="pp_hoverContainer">                                                 <a class="pp_next" href="#">next</a>                                                 <a class="pp_previous" href="#">previous</a>                                             </div>                                             <div id="pp_full_res"></div>                                             <div class="pp_details">                                                 <div class="pp_nav">                                                     <a href="#" class="pp_arrow_previous">Previous</a>                                                     <p class="currentTextHolder">0/0</p>                                                     <a href="#" class="pp_arrow_next">Next</a>                                                 </div>                                                 <p class="pp_description"></p>                                                 <div class="pp_social">{pp_social}</div>                                                 <a class="pp_close" href="#">Close</a>                                             </div>                                         </div>                                     </div>                                 </div>                                 </div>                             </div>                             <div class="pp_bottom">                                 <div class="pp_left"></div>                                 <div class="pp_middle"></div>                                 <div class="pp_right"></div>                             </div>                         </div>                         <div class="pp_overlay"></div>',gallery_markup:'<div class="pp_gallery">                                     <a href="#" class="pp_arrow_previous">Previous</a>                                     <div>                                         <ul>                                             {gallery}                                         </ul>                                     </div>                                     <a href="#" class="pp_arrow_next">Next</a>                                 </div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:"",social_tools:'<div class="twitter"><a href="http://twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script></div><div class="facebook"><iframe src="//www.facebook.com/plugins/like.php?locale=en_US&href={location_href}&amp;layout=button_count&amp;show_faces=true&amp;width=500&amp;action=like&amp;font&amp;colorscheme=light&amp;height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:23px;" allowTransparency="true"></iframe></div>'},a);var _,w,b,x,k,$,I,P=this,S=!1,M=t(window).height(),C=t(window).width();return doresize=!0,scroll_pos=g(),t(window).unbind("resize.prettyphoto").bind("resize.prettyphoto",function(){f(),m()}),a.keyboard_shortcuts&&t(document).unbind("keydown.prettyphoto").bind("keydown.prettyphoto",function(e){if("undefined"!=typeof $pp_pic_holder&&$pp_pic_holder.is(":visible"))switch(e.keyCode){case 37:t.prettyPhoto.changePage("previous"),e.preventDefault();break;case 39:t.prettyPhoto.changePage("next"),e.preventDefault();break;case 27:settings.modal||t.prettyPhoto.close(),e.preventDefault()}}),t.prettyPhoto.refresh=function(){P=t(P.selector),P.unbind("click.prettyphoto").bind("click.prettyphoto",t.prettyPhoto.initialize)},t.prettyPhoto.initialize=function(){return settings=a,"pp_default"==settings.theme&&(settings.horizontal_padding=16),theRel=t(this).attr(settings.hook),galleryRegExp=/\[(?:.*)\]/,isSet=galleryRegExp.exec(theRel)?!0:!1,pp_images=isSet?jQuery.map(P,function(e,i){return-1!=t(e).attr(settings.hook).indexOf(theRel)?t(e).attr("href"):void 0}):t.makeArray(t(this).attr("href")),pp_titles=isSet?jQuery.map(P,function(e,i){return-1!=t(e).attr(settings.hook).indexOf(theRel)?t(e).find("img").attr("alt")?t(e).find("img").attr("alt"):"":void 0}):t.makeArray(t(this).find("img").attr("alt")),pp_descriptions=isSet?jQuery.map(P,function(e,i){return-1!=t(e).attr(settings.hook).indexOf(theRel)?t(e).attr("title")?t(e).attr("title"):"":void 0}):t.makeArray(t(this).attr("title")),pp_images.length>settings.overlay_gallery_max&&(settings.overlay_gallery=!1),set_position=jQuery.inArray(t(this).attr("href"),pp_images),rel_index=isSet?set_position:t("a["+settings.hook+"^='"+theRel+"']").index(t(this)),y(this),settings.allow_resize&&t(window).bind("scroll.prettyphoto",function(){f()}),t.prettyPhoto.open(),!1},t.prettyPhoto.open=function(e){return"undefined"==typeof settings&&(settings=a,pp_images=t.makeArray(arguments[0]),pp_titles=arguments[1]?t.makeArray(arguments[1]):t.makeArray(""),pp_descriptions=arguments[2]?t.makeArray(arguments[2]):t.makeArray(""),isSet=pp_images.length>1?!0:!1,set_position=arguments[3]?arguments[3]:0,y(e.target)),settings.hideflash&&t("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","hidden"),p(t(pp_images).size()),t(".pp_loaderIcon").show(),settings.deeplinking&&n(),settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href)),$pp_pic_holder.find(".pp_social").html(facebook_like_link)),$ppt.is(":hidden")&&$ppt.css("opacity",0).show(),$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity),$pp_pic_holder.find(".currentTextHolder").text(set_position+1+settings.counter_separator_label+t(pp_images).size()),"undefined"!=typeof pp_descriptions[set_position]&&""!=pp_descriptions[set_position]?$pp_pic_holder.find(".pp_description").show().html(unescape(pp_descriptions[set_position])):$pp_pic_holder.find(".pp_description").hide(),movie_width=parseFloat(r("width",pp_images[set_position]))?r("width",pp_images[set_position]):settings.default_width.toString(),movie_height=parseFloat(r("height",pp_images[set_position]))?r("height",pp_images[set_position]):settings.default_height.toString(),S=!1,-1!=movie_height.indexOf("%")&&(movie_height=parseFloat(t(window).height()*parseFloat(movie_height)/100-150),S=!0),-1!=movie_width.indexOf("%")&&(movie_width=parseFloat(t(window).width()*parseFloat(movie_width)/100-150),S=!0),$pp_pic_holder.fadeIn(function(){switch(settings.show_title&&""!=pp_titles[set_position]&&"undefined"!=typeof pp_titles[set_position]?$ppt.html(unescape(pp_titles[set_position])):$ppt.html("&nbsp;"),imgPreloader="",skipInjection=!1,u(pp_images[set_position])){case"image":imgPreloader=new Image,nextImage=new Image,isSet&&set_position<t(pp_images).size()-1&&(nextImage.src=pp_images[set_position+1]),prevImage=new Image,isSet&&pp_images[set_position-1]&&(prevImage.src=pp_images[set_position-1]),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]),imgPreloader.onload=function(){_=d(imgPreloader.width,imgPreloader.height),l()},imgPreloader.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist."),t.prettyPhoto.close()},imgPreloader.src=pp_images[set_position];break;case"youtube":_=d(movie_width,movie_height),movie_id=r("v",pp_images[set_position]),""==movie_id&&(movie_id=pp_images[set_position].split("youtu.be/"),movie_id=movie_id[1],movie_id.indexOf("?")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("?"))),movie_id.indexOf("&")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("&")))),movie="http://www.youtube.com/embed/"+movie_id,r("rel",pp_images[set_position])?movie+="?rel="+r("rel",pp_images[set_position]):movie+="?rel=1",settings.autoplay&&(movie+="&autoplay=1"),toInject=settings.iframe_markup.replace(/{width}/g,_.width).replace(/{height}/g,_.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case"vimeo":_=d(movie_width,movie_height),movie_id=pp_images[set_position];var e=/http(s?):\/\/(www\.)?vimeo.com\/(\d+)/,i=movie_id.match(e);movie="http://player.vimeo.com/video/"+i[3]+"?title=0&amp;byline=0&amp;portrait=0",settings.autoplay&&(movie+="&autoplay=1;"),vimeo_width=_.width+"/embed/?moog_width="+_.width,toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,_.height).replace(/{path}/g,movie);break;case"quicktime":_=d(movie_width,movie_height),_.height+=15,_.contentHeight+=15,_.containerHeight+=15,toInject=settings.quicktime_markup.replace(/{width}/g,_.width).replace(/{height}/g,_.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case"flash":_=d(movie_width,movie_height),flash_vars=pp_images[set_position],flash_vars=flash_vars.substring(pp_images[set_position].indexOf("flashvars")+10,pp_images[set_position].length),filename=pp_images[set_position],filename=filename.substring(0,filename.indexOf("?")),toInject=settings.flash_markup.replace(/{width}/g,_.width).replace(/{height}/g,_.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+"?"+flash_vars);break;case"iframe":_=d(movie_width,movie_height),frame_url=pp_images[set_position],frame_url=frame_url.substr(0,frame_url.indexOf("iframe")-1),toInject=settings.iframe_markup.replace(/{width}/g,_.width).replace(/{height}/g,_.height).replace(/{path}/g,frame_url);break;case"ajax":doresize=!1,_=d(movie_width,movie_height),doresize=!0,skipInjection=!0,t.get(pp_images[set_position],function(t){toInject=settings.inline_markup.replace(/{content}/g,t),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,l()});break;case"custom":_=d(movie_width,movie_height),toInject=settings.custom_markup;break;case"inline":myClone=t(pp_images[set_position]).clone().append('<br clear="all" />').css({width:settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo(t("body")).show(),doresize=!1,_=d(t(myClone).width(),t(myClone).height()),doresize=!0,t(myClone).remove(),toInject=settings.inline_markup.replace(/{content}/g,t(pp_images[set_position]).html())}imgPreloader||skipInjection||($pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,l())}),!1},t.prettyPhoto.changePage=function(e){currentGalleryPage=0,"previous"==e?(set_position--,set_position<0&&(set_position=t(pp_images).size()-1)):"next"==e?(set_position++,set_position>t(pp_images).size()-1&&(set_position=0)):set_position=e,rel_index=set_position,doresize||(doresize=!0),settings.allow_expand&&t(".pp_contract").removeClass("pp_contract").addClass("pp_expand"),h(function(){t.prettyPhoto.open()})},t.prettyPhoto.changeGalleryPage=function(t){"next"==t?(currentGalleryPage++,currentGalleryPage>totalPage&&(currentGalleryPage=0)):"previous"==t?(currentGalleryPage--,currentGalleryPage<0&&(currentGalleryPage=totalPage)):currentGalleryPage=t,slide_speed="next"==t||"previous"==t?settings.animation_speed:0,slide_to=currentGalleryPage*(itemsPerPage*itemWidth),$pp_gallery.find("ul").animate({left:-slide_to},slide_speed)},t.prettyPhoto.startSlideshow=function(){"undefined"==typeof I?($pp_pic_holder.find(".pp_play").unbind("click").removeClass("pp_play").addClass("pp_pause").click(function(){return t.prettyPhoto.stopSlideshow(),!1}),I=setInterval(t.prettyPhoto.startSlideshow,settings.slideshow)):t.prettyPhoto.changePage("next")},t.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(".pp_pause").unbind("click").removeClass("pp_pause").addClass("pp_play").click(function(){return t.prettyPhoto.startSlideshow(),!1}),clearInterval(I),I=e},t.prettyPhoto.close=function(){$pp_overlay.is(":animated")||(t.prettyPhoto.stopSlideshow(),$pp_pic_holder.stop().find("object,embed").css("visibility","hidden"),t("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(settings.animation_speed,function(){t(this).remove()}),$pp_overlay.fadeOut(settings.animation_speed,function(){settings.hideflash&&t("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","visible"),t(this).remove(),t(window).unbind("scroll.prettyphoto"),s(),settings.callback(),doresize=!0,w=!1,delete settings}))},!o&&i()&&(o=!0,hashIndex=i(),hashRel=hashIndex,hashIndex=hashIndex.substring(hashIndex.indexOf("/")+1,hashIndex.length-1),hashRel=hashRel.substring(0,hashRel.indexOf("/")),setTimeout(function(){t("a["+a.hook+"^='"+hashRel+"']:eq("+hashIndex+")").trigger("click")},50)),this.unbind("click.prettyphoto").bind("click.prettyphoto",t.prettyPhoto.initialize)}}(jQuery);var o=!1;n.prototype.isFluidHeight=function(){return this.$container.is(".grid-gallery-fluid-height")},n.prototype.isImageOverlay=function(){return this.$container.find(".crop").is(".image-overlay")},n.prototype.isMouseShadowShow=function(){return this.$container.find(".grid-gallery-caption").is(".shadow-show")},n.prototype.isThumbs=function(){return this.$container.is(".grid-gallery-thumbs")},n.prototype.initQuicksand=function(){"enabled"==this.$container.data("quicksand")&&(this.$qsEnable=!0,this.$qsDuration=this.$container.data("quicksand-duration"),this.$qsHolder=this.$container.find(".grid-gallery-photos:first"),this.$qsData=this.$container.find(".grid-gallery-photos > a"))},n.prototype.showCaption=function(){this.$container.find(".grid-gallery-figcaption-wrap").each(function(){""!==t.trim(t(this).text())||t(this).find("img").length||0!=t(this).has(".hi-icon").length||t(this).closest("figcaption").remove()})},n.prototype.initWookmark=function(){self=this,width=this.$container.data("width"),offset=0,outerOffset=0,this.$container.data("offset")&&(offset=this.$container.data("offset")),this.$container.data("padding")&&(outerOffset=parseInt(this.$container.data("padding"))),String(width).indexOf("%")>-1&&(imagesPerRow=Math.floor(100/parseInt(width)),spacing=offset*(imagesPerRow-1)+2*outerOffset,width=(this.$container.width()-spacing)/100*parseInt(width),t.each(this.$container.find("img"),function(){aspectRatio=t(this).width()/t(this).height(),t(this).width(width),t(this).height(width/aspectRatio)})),this.$container.data("columns-number")&&(columnsNumber=parseInt(this.$container.data("columns-number")),spacing=offset*(columnsNumber-1)+2*outerOffset,width=(this.$container.width()-spacing)/100*Math.floor(100/columnsNumber),this.$container.find("img").css({width:width,height:"auto"})),"auto"===this.$container.data("width")||this.$qsEnable||this.$elements.filter(":visible").wookmark({autoResize:!0,container:this.$container.find(".grid-gallery-photos"),direction:"left",fillEmptySpace:!1,flexibleWidth:!0,itemWidth:width,offset:offset,align:this.$container.data("area-position"),outerOffset:outerOffset,onLayoutChanged:function(){setTimeout(function(){self.$container.trigger("wookmark.changed")},50)}}).css({margin:"0"}),this.$container.find(".grid-gallery-photos").css("text-align",this.$container.data("area-position")),this.$container.filter(":visible").find(".grid-gallery-photos > *").filter(":visible").css({"float":"none",display:"inline-block","vertical-align":"top"})},n.prototype.initPopup=function(){var e=this.$container.data("popup-type");"colorbox"==e&&this.$container.find(".gg-colorbox").colorbox({fadeOut:this.$container.data("popup-fadeOut"),fixed:!0,maxHeight:"95%",maxWidth:"95%",rel:"grid-gallery",scrolling:!1,slideshow:this.$container.data("popup-slideshow"),slideshowAuto:this.$container.data("popup-slideshowAuto"),slideshowSpeed:this.$container.data("popup-slideshow-speed"),speed:350,transition:this.$container.data("popup-transition"),onComplete:function(){t.colorbox.resize()}}),"pretty-photo"==e&&(this.prettyPhotoInit?t.prettyPhoto.refresh():($prettyPhoto=this.$container.find("a[rel^='prettyPhoto']").prettyPhoto({theme:"light_square",show_title:!1,allow_resize:!0,slideshow:this.$container.data("popup-slideshow-speed"),autoplay_slideshow:this.$container.data("popup-slideshowAuto"),social_tools:""}),this.prettyPhotoInit=!0)),"photobox"==e&&this.$container.find(".grid-gallery-photos").photobox("a.pbox",{autoplay:this.$container.data("popup-slideshowAuto")}),popupBackground=this.$container.data("popup-background"),popupBackground&&popupBackground.length&&("pretty-photo"==e&&(style=".pp_overlay { background-color:"+popupBackground+"!important;}"),"photobox"==e&&(color=this.hex2rgb(popupBackground),rgba="rgba("+color.r+","+color.g+","+color.b+",.95)",style="#pbOverlay { background-image:none!important;background-color:"+rgba+"!important;}"),"colorbox"==e&&(style="#cboxOverlay { background-image:none!important;background-color:"+popupBackground+"!important;}"),t('<style type="text/css"> '+style+"</style>").appendTo("head"))},n.prototype.preventImages=function(){var e=this.$container.data("popup-type");"disable"==e&&(t("a.gg-link").addClass("disabled"),t("a.gg-link").on("click",function(t){t.preventDefault()}))},n.prototype.initFlex=function(){this.$container.find(".grid-gallery-photos").flexImages({container:this.$container.find(".crop"),rowHeight:this.$container.data("height")})},n.prototype.initSlider=function(){this.isThumbs()&&(t(".grid-gallery-clearfix").remove(),this.$container.find("a").each(function(){var e=t(this).find("img").attr("src");t(this).attr("data-thumb",e)}),this.$container.find("section").lightSlider({gallery:!0,item:1,loop:!0,slideMargin:0,thumbItem:4,thumbMargin:1}))},n.prototype.initRowsMode=function(){var e=parseInt(this.$container.data("columns-number"));if(e){var i=(parseInt(this.$container.width()),parseInt(this.$container.data("offset"))),n=parseInt(this.$container.data("width"))/parseInt(this.$container.data("height")),o=null,s=null;o=Math.floor((this.$container.width()-(e-1)*i)/e),s=Math.floor(o/n),this.$elements.each(function(){t(this).find(".post-feed-crop").length?t(this).find("figcaption").css("width",o):(t(this).css("width",o),t(this).css("height",s))}),this.$elements.find(".crop").css({width:"auto",height:"auto"})}},n.prototype.setImagesHeight=function(){var i=this.$container.find("img");i!=e&&i.length>0&&i.each(function(){var e=t(this),i=e.parent();e.height()<i.height()&&i.css("height",e.height())})},n.prototype.setOverlayTransparency=function(){this.$elements.find('figcaption, [class*="caption-with-icons"]').each(function(){var e=t(this),i=(10-parseInt(e.data("alpha"),10))/10,n=e.css("background-color"),o=n.replace(")",", "+i+")").replace("rgb","rgba");e.css("background",o)})},n.prototype.setIconsPosition=function(){this.$elements.each(function(){var e=t(this),i=e.find("div.hi-icon-wrap"),n=e.find("a.hi-icon");n.each(function(){var n=t(this),o=e.height()/2-n.height()/2-10,s=i.data("margin");n.css({"margin-top":Math.abs(o),"margin-left":s,"margin-right":s})})})},n.prototype.initCategories=function(){function i(t,e){var i=parseInt(t.slice(1),16),n=0>e?0:255,o=0>e?-1*e:e,s=i>>16,r=i>>8&255,a=255&i;return"#"+(16777216+65536*(Math.round((n-s)*o)+s)+256*(Math.round((n-r)*o)+r)+(Math.round((n-a)*o)+a)).toString(16).slice(1)}var n=(this.$navigation.find('a[data-tag="__all__"]'),this.$navigation.find("a")),o=n.first().css("background-color");bg=i("#"+this.rgb2hex(n.first().css("borderTopColor")),.3),this.$navigation.find("a").on("click",t.proxy(function(i){i.preventDefault();var s=t(i.currentTarget),r=String(s.data("tag")),a="__all__",l=this.$navigation.parent().attr("id");if(n.css("background-color",o),s.css("background-color",bg),r==a)return this.$elements.each(function(){t(this).parent().attr("rel")&&t(this).parent().attr("rel","prettyPhoto["+l+"]")}).fadeIn(),this.correctMargin(),this.initWookmark(),!this.isFluidHeight()&&this.$qsEnable&&this.callQuicksand(this.$qsHolder,this.$qsData,this.$qsDuration),!1;if(!this.isFluidHeight()&&this.$qsEnable){var h=this.$qsData.filter(function(){var e=t(this).children().data("tags");return"undefined"!=typeof e&&(e=e.split("|")),t.inArray(r,e)>-1});this.callQuicksand(this.$qsHolder,h,this.$qsDuration)}else $hidden=t(),$visible=t(),this.$elements.each(function(){var i=t(this),n=i.data("tags");"string"!=typeof n&&(n=String(n)),n!=e&&(n=n.split("|")),t.inArray(r,n)>-1?(i.parent().attr("rel")&&i.parent().attr("rel","prettyPhoto["+l+"-"+r+"]"),$visible.push(this)):$hidden.push(this)}),t.when($hidden.fadeOut()).done(t.proxy(function(){$visible.fadeIn(),this.correctMargin(),this.initWookmark()},this))},this)),n.first().trigger("click")},n.prototype.callQuicksand=function(t,e,i){self=this,e.find("figure.grid-gallery-caption").css("margin","0 "+this.initialMargin+" "+this.initialMargin+" 0").parent().css("clear","none"),t.quicksand(e,{duration:Number(i),easing:"swing",attribute:"href"},function(){t.css({width:"auto",height:"auto"}).append('<div class="grid-gallery-clearfix"></div>'),self.initPopup(),self.correctMargin()})},n.prototype.hidePopupCaptions=function(){"hide"==this.$container.data("popup-captions")&&t('<style type="text/css">#cboxTitle, #cboxCurrent, .pbCaptionText, .pp_description { display:none!important; }</style>').appendTo("head")},n.prototype.hidePaginationControls=function(){return!1},n.prototype.setImageOverlay=function(){this.isImageOverlay()&&this.$container.find(".grid-gallery-caption").each(function(){var e=t(this).find("img"),i=t(this).find(".image-overlay");e.css("opacity","0.2"),i.css("background-color","#424242"),t(this).on("mouseenter",function(){e.css("opacity","1.0"),i.css("background-color","inherit")}),t(this).on("mouseleave",function(){e.css("opacity","0.2"),i.css("background-color","#424242")})})},n.prototype.setMouseShadow=function(){var e=null,i=null,n=this.$container.find(".grid-gallery-caption").css("box-shadow");this.isMouseShadowShow()?(e="5px 5px 5px #888",i=this.$container.find(".shadow-show")):(e="none",i=this.$container.find(".shadow-hide")),i.on("mouseover",function(){t(this).css("box-shadow",e)}),i.on("mouseleave",function(){t(this).css("box-shadow",String(n))})},n.prototype.initPagination=function(){var e=parseInt(this.$container.find(".grid-gallery-photos").data("per-page"),10),i=[],o=1,s=0;if(self=this,isNaN(e))return this.$elements.fadeIn(),!1;var r=function(e){e.$elements.removeClass("current-page").hide(350),t.each(i[e.pagination.currentPage],function(){t(this).addClass("current-page").show(function(){e.setIconsPosition(),self.correctMargin()})})};this.pagination.limit=e,this.$elements.each(t.proxy(function(e,n){
var r=e+1;r-s<=this.pagination.limit?(t.isArray(i[o])||(i[o]=[]),i[o].push(n)):(s+=this.pagination.limit,o+=1,i[o]=[n])},this)).hide(),this.pagination.pages=Math.ceil(this.pagination.total/this.pagination.limit);var a=this.pagination.$wrapper.find('a.grid-gallery-page[data-page="1"]');a.css("font-size","19pt"),this.pagination.$wrapper.find("a.grid-gallery-page").on("click",t.proxy(function(e){e.preventDefault();var i=t(e.currentTarget),o=n.prototype;this.pagination.$wrapper.find("a.grid-gallery-page").each(function(){t(this).css("font-size","inherit")}),o.selectedCategory=i.data("page"),i.css("font-size","19pt");var s=t(e.currentTarget),a=s.data("page");return this.pagination.currentPage=a,r(this),!1},this)),r(this)},n.prototype.hex=function(t){return isNaN(t)?"00":hexDigits[(t-t%16)/16]+hexDigits[t%16]},n.prototype.rgb2hex=function(t){function e(t){return("0"+parseInt(t).toString(16)).slice(-2)}return t?(t=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+))?\)$/),e(t[1])+e(t[2])+e(t[3])):void 0},n.prototype.hex2rgb=function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,i,n){return e+e+i+i+n+n});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null},n.prototype.loadFontFamily=function(){font=this.$container.data("caption-font-family"),font&&"Default"!==font&&WebFont.load({google:{families:[font+":400,800"]}})},n.prototype.initCaptionCalculations=function(){this.$container.find(".grid-gallery-caption").each(function(){wrap=t(this).find("div.grid-gallery-figcaption-wrap"),figcaption=t(this).find("figcaption"),wrap.css({display:"table-cell","text-align":figcaption.css("text-align")}),wrap.wrap(t("<div>",{css:{display:"table",height:"100%",width:"100%"}}))})},n.prototype.checkDirection=function(t,e){var i=t.width(),n=t.height(),o=(e.pageX-t.offset().left-i/2)*(i>n?n/i:1),s=(e.pageY-t.offset().top-n/2)*(n>i?i/n:1);return Math.round((Math.atan2(s,o)*(180/Math.PI)+180)/90+3)%4},n.prototype.initCaptionEffects=function(){var e=this;t.each(this.$elements,function(i,n){if($el=t(n),"cube"==$el.data("grid-gallery-type")&&$el.on("mouseenter mouseleave",function(i){var n=t(this).find("figcaption"),o=e.checkDirection(t(this),i),s=null;switch(o){case 0:s="cube-"+("mouseenter"==i.type?"in":"out")+"-top";break;case 1:s="cube-"+("mouseenter"==i.type?"in":"out")+"-right";break;case 2:s="cube-"+("mouseenter"==i.type?"in":"out")+"-bottom";break;case 3:s="cube-"+("mouseenter"==i.type?"in":"out")+"-left"}n.removeClass().addClass(s)}),"polaroid"==$el.data("grid-gallery-type")&&(t(this).find(".post-feed-crop").length||$el.hasClass("initialized")||($el.addClass("initialized"),width=$el.width(),frameWidth=20,$img=t(this).find("img"),scaleRatio=$img.width()/$img.height(),imageWidth=$img.width()-2*frameWidth,imageHeight=imageWidth/scaleRatio,$img.css({width:imageWidth+"px",height:imageHeight+"px",margin:frameWidth+"px auto 0"}),t(this).css({width:t(this).width(),height:imageHeight+4*frameWidth+"px",transform:"rotate("+(-3+7*Math.random())+"deg)"}))),"direction-aware"==$el.data("grid-gallery-type")){var o=$el.find("figcaption").css("backgroundColor"),s=parseInt($el.find("figcaption").data("alpha")),r=$el.find("figcaption").css("color"),a=$el.find("figcaption").css("text-align"),l=function(t,e){return t=t.split(")")[0].split("("),t[0]+"a("+t[1]+", "+(1-e/10)+")"};$el.find("img").attr("data-caption",'<span style="font-family:'+e.$container.data("caption-font-family")+'">'+$el.find("img").attr("data-caption")+"</span>"),$el.sliphover({target:"img",backgroundColor:l(o,s),fontColor:r,textAlign:a,caption:"data-caption"})}}),t(".grid-gallery-caption").on("touchstart",function(e){$caption=t(this),"none"!=$caption.data("grid-gallery-type")&&(t(".grid-gallery-caption").not($caption).removeClass("hovered"),$caption.hasClass("hovered")||(e.preventDefault(),e.stopPropagation(),$caption.addClass("hovered"),t("body").one("touchstart",function(t){$caption.removeClass("hovered")})))})},n.prototype.correctMargin=function(){if(!this.isFluidHeight()){this.$qsEnable&&(this.$elements=this.$container.find("figure.grid-gallery-caption"));var e=null,i=this.$elements.filter(":visible").size(),n=0,o=this.$container.width(),s=this.initialMargin;this.$elements.css("margin","0 "+this.initialMargin+" "+this.initialMargin+" 0"),this.$elements.parent().css("clear","none"),this.$elements.filter(":visible").each(function(r){n+t(this).outerWidth()>o?(t(e).css("margin-right",0),t(this).css("margin-right",this.initialMargin),t(this).parent().css("clear","left"),n=t(this).outerWidth()+parseInt(s)):n+t(this).outerWidth()==o?(t(this).css("margin-right",0),n=0):n+=t(this).outerWidth()+parseInt(s),r==i-1&&t(this).css("margin-right",0),e=this})}},n.prototype.hideTitleTooltip=function(){1==this.$container.data("hide-tooltip")&&(title="",this.$container.on("hover","a, img",function(e){"mouseenter"==e.type?(title=t(this).attr("title"),t(this).attr({title:""})):t(this).attr({title:title})}))},n.prototype.correctFullscreen=function(){var e=t(window).width();this.$elements.each(function(){var i=parseInt(e/t(this).width()),n=e/i;t(this).width(n)})},n.prototype.init=function(){this.$container.imagesLoaded(t.proxy(function(){if(t(document).trigger("GalleryBeforeInit",this),this.initRowsMode(),this.initQuicksand(),this.initCaptionCalculations(),this.initCaptionEffects(),this.initCategories(),this.initPagination(),this.initPopup(),this.initSlider(),this.setMouseShadow(),this.setImageOverlay(),this.setOverlayTransparency(),this.showCaption(),this.loadFontFamily(),this.hidePopupCaptions(),this.preventImages(),this.initWookmark(),this.setIconsPosition(),this.correctMargin(),this.hideTitleTooltip(),"true"==this.$container.attr("data-fullscreen")){this.correctFullscreen();var e=this;t(window).resize(function(){e.correctFullscreen()})}this.$container.find(".gallery-loading").hide(),t.merge(this.$container.find(".grid-gallery-photos"),this.$navigation).css({opacity:"1",transition:"all 0.5s ease-out"}),t(document).trigger("GalleryAfterInit",this)},this)),t(window).on("resize",t.proxy(function(){this.correctMargin()},this))},window.initGridGallery=function(t,e){var i=function(t){return"#"+t.id};return new n(i(t),e)},window.contentLoaded=function(){var e=t(".grid-gallery");e.length>0&&t.each(e,function(){initGridGallery(this,!0)}),t(".crop").css("display","inherit")},t(document).ready(function(){contentLoaded()}).ajaxComplete(function(){})}(jQuery);